<html>
<head>
<title>Select Remote Faces Versions</title>
<script>
window.onload = function() {
  function isPathD(item) { return item.path === 'd'; }
  function pickPath(item) { return item.path; }
  fetch('https://api.github.com/repos/dai-shi/remote-faces/git/trees/gh-pages')
    .then(function(res) { return res.json(); })
    .then(function(json) { return json.tree.find(isPathD).url; })
    .then(function(url) { return fetch(url); })
    .then(function(res) { return res.json(); })
    .then(function(json) { return json.tree.map(pickPath).reverse(); })
    .then(function(paths) {
      for (var i = 0; i < 5; ++i) {
        document.getElementById('item' + i).setAttribute('href', 'https://remote-faces.js.org/d/' + paths[i] + '/');
      }
    })
    .finally(function() {
      var elements = document.querySelectorAll('a');
      for (var i = 0; i < elements.length; ++i) {
        elements[i].setAttribute('href', elements[i].getAttribute('href') + window.location.hash);
      }  
    });
};
</script>
</head>
<body>
<ul>
<li><a id="item0" href="https://remote-faces.js.org/d/2020-06-12/">Latest Version</a></li>
<li><a id="item1" href="https://remote-faces.js.org/d/2020-06-04/">Previous Version</a></li>
<li><a id="item2" href="https://remote-faces.js.org/d/2020-06-02/">One Before Previous Version</a></li>
<li><a id="item3" href="https://remote-faces.js.org/d/2020-05-30/">Two Before Previous Version</a></li>
<li><a id="item4" href="https://remote-faces.js.org/d/2020-05-27/">Three Before Previous Version</a></li>
</ul>
<ul>
<li><a href="https://dai-shi.github.io/remote-faces/d/2020-04-07/">Legacy Version</a></li>
</ul>
</body>
</html>
