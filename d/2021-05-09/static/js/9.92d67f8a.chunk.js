(this["webpackJsonpremote-faces-web"]=this["webpackJsonpremote-faces-web"]||[]).push([[9],{108:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return a}));var c=function(e){return"object"===typeof e&&null!==e},M=function(e,t){return"string"===typeof e[t]},a=function(e,t){return c(e[t])}},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var c=n(4),M=n(2),a=n.n(M),r=n(3),i=n(5),N=n(1532),s=n(28),u=(n(13),function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var e=n.result,c=e.indexOf(",")+1;t(e.slice(c))},n.readAsDataURL(new Blob([e]))}))}),o=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data:application/octet-binary;base64,".concat(t));case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return c=e.sent,e.abrupt("return",new Uint8Array(c));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=new Map,D=function(e,t){var n="".concat(e,":").concat(t);if(!j.has(n)){var M=function(e,t){var n=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.acceptingMediaTypes.includes(t)){e.next=3;break}return console.log("media type already added",t),e.abrupt("return");case 3:return g.acceptingMediaTypes.push(t),e.next=6,O;case 6:e.sent.acceptMediaTypes(Object(i.snapshot)(g.acceptingMediaTypes));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=g.acceptingMediaTypes.indexOf(t))){e.next=4;break}return console.log("media type already added",t),e.abrupt("return");case 4:return g.acceptingMediaTypes.splice(n,1),e.next=7,O;case 7:e.sent.acceptMediaTypes(Object(i.snapshot)(g.acceptingMediaTypes));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O;case 2:e.sent.addTrack(t,n);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O;case 2:e.sent.removeTrack(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O;case 2:e.sent.dispose();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=Object(i.proxy)({networkStatusList:[],userIdMap:{},ydoc:Object(i.ref)(new N.a),acceptingMediaTypes:[],trackMap:{},addMediaType:n,removeMediaType:M,addTrack:j,removeTrack:D,dispose:T}),z=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c,M;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N.c(g.ydoc),e.next=3,u(n);case 3:c=e.sent,M={ydocUpdate:c},O.then((function(e){e.sendData(M,t)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(a.a.mark((function e(t,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.userIdMap[n.userId]=n.peerIndex,!(null===t||void 0===t?void 0:t.ydocUpdate)){e.next=6;break}return e.next=4,o(t.ydocUpdate);case 4:c=e.sent,N.b(g.ydoc,c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();g.ydoc.on("update",function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:n=e.sent,O.then((function(e){e.broadcastData({ydocUpdate:n})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var O=Object(s.b)(e,t,(function(e){console.log("[network status]",e),g.networkStatusList.unshift(e),g.networkStatusList.length>10&&g.networkStatusList.pop(),"CONNECTION_CLOSED"===(null===e||void 0===e?void 0:e.type)&&Object.entries(g.userIdMap).forEach((function(t){var n=Object(c.a)(t,2),M=n[0];n[1]===e.peerIndex&&(g.userIdMap[M]="closed")}))}),z,d,(function(e,t,n){g.trackMap[e]||(g.trackMap[e]={}),t.addEventListener("ended",(function(){g.trackMap[e][n.userId]===t&&delete g.trackMap[e][n.userId]})),g.trackMap[e][n.userId]=Object(i.ref)(t)}));return g}(e,t);j.set(n,M)}return j.get(n)}},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},1537:function(e,t,n){"use strict";n.r(t),n.d(t,"SingleRoom",(function(){return K}));var c=n(4),M=n(0),a=n(1),r=n.n(a),i=n(16),N=(n(643),n(9)),s=n(6),u=n(103),o=(n(644),n(5)),j=n(134),D=n(15),T=function(e,t,n){var c;return c={},Object(D.a)(c,"meeting".concat(e),{type:"meeting",position:[t,n],size:[250,150],zIndex:0,background:"",border:"",iframe:""}),Object(D.a)(c,"gobard".concat(e),{type:"goboard",position:[t,n],size:[250,150],zIndex:0,background:"rgba(140, 140, 140, 0.2)",border:"",iframe:""}),c},g={intro:{background:{type:"background",position:[36,36],size:[800,500],zIndex:-100,background:"url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDY2Ny4yOTIyOTgzMDU3OTI3IDQxOC4xNDczNjEzODYyNzcyIiB3aWR0aD0iMTMzNC41ODQ1OTY2MTE1ODUzIiBoZWlnaHQ9IjgzNi4yOTQ3MjI3NzI1NTQ1Ij4KICA8IS0tIHN2Zy1zb3VyY2U6ZXhjYWxpZHJhdyAtLT4KICAKICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgQGZvbnQtZmFjZSB7CiAgICAgICAgZm9udC1mYW1pbHk6ICJWaXJnaWwiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL1ZpcmdpbC53b2ZmMiIpOwogICAgICB9CiAgICAgIEBmb250LWZhY2UgewogICAgICAgIGZvbnQtZmFtaWx5OiAiQ2FzY2FkaWEiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL0Nhc2NhZGlhLndvZmYyIik7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSI2NjcuMjkyMjk4MzA1NzkyNyIgaGVpZ2h0PSI0MTguMTQ3MzYxMzg2Mjc3MiIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUzLjQ5Nzc3MzUzMDI3OTc0NCAyMDMuNDAxNzY0NDE1NzM2MjQpIHJvdGF0ZSgwIC0xOS42MDg3MTQwNDM1Njc1NDUgLTI1LjY3MDMzNTAxNDg0OTk2OCkiPjxwYXRoIGQ9Ik0wLjA0MDc4OTI4NTY3NDY5MTIgMC45Mzk2MDg4MDMwMTg5Mjc0IEMtNi4zODU5NzU3NzkzNTIyODkgLTcuODM1OTk0ODM4NjU1MDIwNCwgLTMxLjkzNzUxNjQ0NjY5ODIxIC00My40NTIxNDcxOTExNjcsIC0zOC42NTQ4NTA0MzU2NzUzODUgLTUyLjI4MDI3ODgzMjcxODg4IE0tMS4zOTY5MzUwNjg2ODU1NjE1IDAuMzg3Mjk5NDc5MjY0NzY2MTYgQy03LjkxNjAyNzI0NzQ2MDEzNjUgLTguMjcwNDExODcyNjUxNDUsIC0zMy4xNzk2MDIyNzkxNDg3NDYgLTQyLjUxNzM2NTQxMTEyODk3LCAtMzkuMjU4MjE3MzcyODA5Nzk2IC01MS4wNjU3MDEyNDgwNjEwNiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUzLjQ5Nzc3MzUzMDI3OTc0NCAyMDMuNDAxNzY0NDE1NzM2MjQpIHJvdGF0ZSgwIC0xOS42MDg3MTQwNDM1Njc1NDUgLTI1LjY3MDMzNTAxNDg0OTk2OCkiPjxwYXRoIGQ9Ik0tMTIuODE5NTU5MjAxNTg1NTczIC0zMy4xOTc5NDQ4NTk4MDkxMyBDLTIyLjcyOTA5MTEzNzk5NDczIC00MC43NzA0MDI4NDQ1NjY0NiwgLTI5LjU3NzAxMzE2ODExNjA3IC00NC40MzUyOTM5NjAyODc3OSwgLTQxLjE3OTY5NDcyNjAxMDExIC01MC42OTkwMTc1ODA1MzU0MSBNLTE0LjgzMjg2MTc1NzgyNDY0MiAtMzMuMzI1NjM3MDc1ODg1MDggQy0yMy4wOTQ1OTE4MzE5MjYwOTUgLTM5LjQ0ODUwODEzMzYwMzIzLCAtMjkuNDgyNTU4MTQwMzcxMTc1IC00NS4xNjMzNTk5OTQ5MDM5MywgLTM4LjU0OTkxMTY1MzUwMTI0IC01MC40NDAzMjQ1MDQ3OTY1NjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1My40OTc3NzM1MzAyNzk3NDQgMjAzLjQwMTc2NDQxNTczNjI0KSByb3RhdGUoMCAtMTkuNjA4NzE0MDQzNTY3NTQ1IC0yNS42NzAzMzUwMTQ4NDk5NjgpIj48cGF0aCBkPSJNLTI5LjQyMDQ3NTMwMjAzMDM1OCAtMjEuMTM0MzgwNDE5MjM3MTU0IEMtMzQuNTE3NjY0NzMwMTM4MzY0IC0zMi4yMzY3OTEyMjA5NzQ4MSwgLTM2LjUxNTcxMjE4OTA1OTA5NCAtMzkuNDI1OTkyMzI0NDMyNDM2LCAtNDEuMTc5Njk0NzI2MDEwMTEgLTUwLjY5OTAxNzU4MDUzNTQxIE0tMzEuNDMzNzc3ODU4MjY5NDI2IC0yMS4yNjIwNzI2MzUzMTMxMSBDLTM0LjY3MzY3MzM5NDc0NDQ1IC0zMS4xMTQxMTM5MjIyMzUwMDYsIC0zNS45MjU4ODQ3MzQ2NzkxNDQgLTQwLjU2MTAxOTUyMzE0NTQ1NCwgLTM4LjU0OTkxMTY1MzUwMTI0IC01MC40NDAzMjQ1MDQ3OTY1NjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDguNTA3MTUxMDU3MjU0MzA1IDIwNy4wODIxNjEzODY5ODAyNikgcm90YXRlKDAgMjYuODczNjY2OTA1NTM0NjM0IDcuNjMwNzk0MzA2NTA5ODQxKSI+PHRleHQgeD0iMCIgeT0iMTIuMjYxNTg4NjEzMDE5NjgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzA5MnB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5GYWNlIExpc3Q8L3RleHQ+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDEwKSByb3RhdGUoMCA5MS45NTMyMDg4MTIzODY0OSA2Mi4xODA5MDgwMjEzMTE4MzYpIj48cGF0aCBkPSJNMzEuMDkwNDU0MDEwNjU1OTE1IDAgTTMxLjA5MDQ1NDAxMDY1NTkxNSAwIEM2MS4wMjY0NzI3NDM3Nzc3NDUgMCwgOTAuOTYyNDkxNDc2ODk5NTcgMCwgMTUyLjgxNTk2MzYxNDExNzEgMCBNMTUyLjgxNTk2MzYxNDExNzEgMCBDMTczLjU0MjkzMjk1NDU1NDM3IDAsIDE4My45MDY0MTc2MjQ3NzMgMTAuMzYzNDg0NjcwMjE4NjQsIDE4My45MDY0MTc2MjQ3NzMgMzEuMDkwNDU0MDEwNjU1OTE1IE0xODMuOTA2NDE3NjI0NzczIDMxLjA5MDQ1NDAxMDY1NTkxNSBDMTgzLjkwNjQxNzYyNDc3MyA1Mi42MjY4Mjg3MDA3OTU0MTQsIDE4My45MDY0MTc2MjQ3NzMgNzQuMTYzMjAzMzkwOTM0OTIsIDE4My45MDY0MTc2MjQ3NzMgOTMuMjcxMzYyMDMxOTY3NzQgTTE4My45MDY0MTc2MjQ3NzMgOTMuMjcxMzYyMDMxOTY3NzQgQzE4My45MDY0MTc2MjQ3NzMgMTEzLjk5ODMzMTM3MjQwNTAyLCAxNzMuNTQyOTMyOTU0NTU0MzcgMTI0LjM2MTgxNjA0MjYyMzY2LCAxNTIuODE1OTYzNjE0MTE3MSAxMjQuMzYxODE2MDQyNjIzNjYgTTE1Mi44MTU5NjM2MTQxMTcxIDEyNC4zNjE4MTYwNDI2MjM2NiBDMTIyLjM4MTg1MjIwNjMxMjg2IDEyNC4zNjE4MTYwNDI2MjM2NiwgOTEuOTQ3NzQwNzk4NTA4NiAxMjQuMzYxODE2MDQyNjIzNjYsIDMxLjA5MDQ1NDAxMDY1NTkxNSAxMjQuMzYxODE2MDQyNjIzNjYgTTMxLjA5MDQ1NDAxMDY1NTkxNSAxMjQuMzYxODE2MDQyNjIzNjYgQzEwLjM2MzQ4NDY3MDIxODY0IDEyNC4zNjE4MTYwNDI2MjM2NiwgMCAxMTMuOTk4MzMxMzcyNDA1MDIsIDAgOTMuMjcxMzYyMDMxOTY3NzQgTTAgOTMuMjcxMzYyMDMxOTY3NzQgQzAgNjguNzAxMDc4NjE1NDc1NTQsIDAgNDQuMTMwNzk1MTk4OTgzMzM2LCAwIDMxLjA5MDQ1NDAxMDY1NTkxNSBNMCAzMS4wOTA0NTQwMTA2NTU5MTUgQzAgMTAuMzYzNDg0NjcwMjE4NjQsIDEwLjM2MzQ4NDY3MDIxODY0IDAsIDMxLjA5MDQ1NDAxMDY1NTkxNSAwIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iMyA2Ij48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMS44NDU1MTM2Mjc3NzM1OCAyMS40NjQ0OTk0NDQxMDQ5NDUpIHJvdGF0ZSgwIDMwLjg1NDk1MDg5MTUzOTc3MiA3LjYzMDc5NDMwNjUwOTg0MSkiPjx0ZXh0IHg9IjAiIHk9IjEyLjI2MTU4ODYxMzAxOTY4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcwOThweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RW50cnkgQXJlYTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjUuOTEzMzg0ODEwNzE0ODkgMTM5LjEwNzQyODcwODQyNTgpIHJvdGF0ZSgwIDU5IDYpIj48dGV4dCB4PSIwIiB5PSIxMCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgU2Vnb2UgVUkgRW1vamkiIGZvbnQtc2l6ZT0iMTAuNjE2NzU3Mjk2MDEzNjgxcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPllvdSBjYW4gZHJhZyB5b3VyIGF2YXRhcjwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjgwLjMxMjEzNTA1NjYwNzMgMzEuMjA4NDk0OTIwNTQxMTE0KSByb3RhdGUoMCA4NC4xOTkyMzE1Mzg2NjEyNSA1NS4yNTA2ODMyMzI4NjgwODQpIj48cGF0aCBkPSJNMC45NjU4MTM2NDIzNjc3MjA2IDAuNzkwMzMwNzMyMjQxMjcyOSBDNTkuOTI2MDgxODMzNzkyOTcgLTIuNTQwMDEwMzg1OTkwNzcwNiwgMTI0LjAzNTUyNTY2OTEzOTEyIC0xLjM3OTY0NTEwMjUwMTU0MzMsIDE2OC42ODM5NzY0MjQzMzczMiAtMS45ODUyMjYyNDkzMjIyOTUyIE0wLjA5NTA2MDI0MTQwODY0NjEgMC42NTI5MTMwMzY3NTYyMTc1IEM0NC4wNzQ5MTU2NTcwMzQ3NCAyLjI3MDc5MDQ0NjA5MDQyMDUsIDg2Ljk2ODg0NTk3MDQyNjk0IDEuNzY0MTc0NzE3OTUwNTQzMSwgMTY3LjkwMDA1OTIxMjQwOTg0IC0wLjQ1Mjk2MzIwMDM5Nzc4OTUgTTE2OC43MjgyNDgzNzAyOTA3IC0wLjkzNDEyMzEzNDI0MDUwODEgQzE2OC44ODkzMDA0MDE1ODA4NCAyMi41NjAxOTg5NDg1NDU2NDcsIDE2Ni4xOTM3ODU1NDM4MTE4MyA0NS42MTAzMzE5NTk2NzY1MywgMTY2LjQ5ODk0MjU2NjUxNDkgMTEwLjc0Njc4OTI3MDQ2NDMyIE0xNjcuNzg0NjI3MTg4NDA3NzcgLTAuNDcyMTkzODA0NTY5NTQyNCBDMTcwLjE2ODc0NzEyNTkzMjYgMjYuNDEwNDYzNzc4OTc1NzksIDE3MC4xNjQ0MTEzMzUwNjAwNCA1My42NjEwNzQ2NjI5OTcxOTQsIDE2OC41OTY0MTgzOTk3NzQ0MiAxMTAuMDAyNzM2NTQwODk0OTQgTTE2Ny42NTcyNDM0NDMxMzIzMyAxMTEuMDg4NDA0NDcwNTA3MDQgQzEwOC4wOTg4Njc4ODk0NjMyOSAxMTIuMjIzNzg5NzU4MzMzMzcsIDQ1LjEwOTQ2Nzc4NDQwMjY1IDExMy4wMzI5NTQ5MzgwNjI4MywgLTEuNjU0MzU3NjA2NTQ1MDkwNyAxMDkuMDA1MzQwOTI3NjY0MTggTTE2Ny40NDc3NzU2MjEzNzc4MiAxMDkuODY3MTgwNTU4MzA1MjIgQzEwNS43MTM1NTA4NTIyNzQ1NSAxMTAuOTMwNDI4ODY4NjYzMTYsIDQ0LjQ2MTgyMTM5MTA5MzYzNiAxMTEuNTU5NzcwODU4NDE4NzksIDAuODI0NDk1MDU5NDM4MDQ5OCAxMDkuNzAyMzgwNTk5ODM3NzQgTTEuMzcwNDEzNjA2OTg2NDAzNSAxMDkuNzM2NTg5MzA2NDE3ODQgQy0wLjk1ODA3OTU0MjQxNzAyMDUgNzYuMDExNzIyMjI5ODc4MzIsIC0xLjY2OTM5ODY5MDk1NzUxNzQgNDEuMDgxMDY5NDAxOTk2MDIsIDEuNTM1MTAxMTgwODk2MTYzIDAuODY5MTAzMDM4NjgzNTMzNyBNLTAuNzM3NDg1NDI2NDc4MDg3OSAxMTEuMzQyMzQ0OTQxOTU1MDUgQzAuMDAwNDM3MDA0Njg0Nzk5OTAyMDcgNzQuMjg0NjkzMTg4MTU4MzcsIC0xLjY5NDE0NzI3NTU2NzY1NjggMzkuMjQ0MzQ3NzYyMTgxNTMsIDAuODc2NjA3MTkxNzQ4OTE3MSAwLjcwNTc1MjkxMTk3NzQ2OTkiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTQuNjU5NDg1ODA1NzkyNjYgMTIuMDQ4MzI5Mjg0ODcxMDQ1KSByb3RhdGUoMCA0NC41IDcuNSkiPjx0ZXh0IHg9IjAiIHk9IjEyIiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcxMXB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5NZWV0aW5nIEFyZWEgMTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc1LjAzODY5NzU1NjYwNzMgMzEuOTg5NzQ0OTIwNTQxMTE0KSByb3RhdGUoMCA4NC4xOTkyMzE1Mzg2NjEyNSA1NS4yNTA2ODMyMzI4NjgwODQpIj48cGF0aCBkPSJNMC4zOTU5MTA2NDQ5MDM3NzkwMyAtMC45OTcyNTk4NDk2ODI0NTAzIEM0OS41NDc4MTEzMzM3Nzk3OSAtMi42NDQ4MTQ3MzMxMjI5NTA2LCA5OC4xNDc2MTI3OTQ3NTA1MyAtMS43MDc3MDk3MzMxMDM4NzcsIDE2OC45ODU1MDEwODIwOTM0IDAuOTExNTI4Mjk0OTA2MDIwMiBNLTAuODI3MTc4ODAzMjcyNTQ1MyAtMC43NDgwMTI3NjkwMzU5OTUgQzU0LjQxNDI5ODUwNjE3MDU4IC0xLjg2NzE2Nzk0ODg3NjY3NDQsIDEwOC4wNTAzNDA0NDQyMTQ3OCAtMS45NTM5MTE2OTExMDQyMjg3LCAxNjcuNzY0Mjc3MTY5ODkxNTkgLTAuNzg3OTM3NTk5MjM0MjgzIE0xNzAuMDQ3NDUzMTk2MTk4NjMgLTEuNTk3OTcxNzMxNzk2ODYwNyBDMTY4LjU0NzMyMDQyMDk4MjA2IDI3Ljk1MjgxNjAwNDQ4NDI2LCAxNjcuNTk1MjA5MzU1NTk0MzMgNTUuODI4NzQzNzQwMTU1MDI2LCAxNjcuNjMzNjg1OTE4MDA0MiAxMDkuOTQzMTA5MDEwNzI5OTMgTTE2OS4xNjYwMTM2Njc3NzA2IDAuNDM0NTUxNTE5MzQxNzY2ODMgQzE2Ny45MzM0MDM0NzYxMjUxNiAzNS44OTcxOTM3MjM3NjQzOSwgMTY3Ljg0MjY3NTU4MDYyNjkgNjkuNDc5Mzg1Njc5NDY4NzUsIDE2OS4yMzk0NDE1NTM1NDE0IDExMS4zNzMzOTIwMjcyNTUxNCBNMTcwLjE1MTY3NzQ2MDgyMDM3IDExMS45MTI4NzIyODk2OTExMSBDMTI0LjMyMzg2MTkwNjM1OTYxIDExMS4yNjAyMzI3NTAwNzI3MywgODEuNjUxMTAwNDQ0MzA2MDggMTExLjc3MjIzMTcwMTUwNzgyLCAxLjY5ODQ4MDY4OTg5ODEzMzMgMTA5Ljg2Mjc0ODUzODUyNzYzIE0xNjguOTc3MjQ1MjUxMTI3NDcgMTEwLjg5NTY3ODIwMzkzNjY1IEMxMDYuOTczNTU2MDAyMTU1MzYgMTA4LjcyMDc4NTYzMTcwNDk0LCA0Ni4wMjk0MDk0MDkxMjgwOSAxMDkuMTUzMzI3MDkxNTAzNzUsIC0wLjY2NjYwNDIxODA3MzE4OTMgMTEwLjg0OTE1NTg1NDgxNzQ3IE0tMS45OTM5OTIyNDQ4MjQ3NjcxIDExMC41MDE3MTY1Mjk0MDI4NyBDMS43OTI3ODk2MTkxNDA0NzU3IDc1LjQzOTcxMTg2MzkxMTkxLCAwLjk4OTIzNDMwOTM2Nzk4NDQgNDAuMzA2MjQwNzUyNDk4MSwgMS41MzQwMDE0OTM4MjY1MDg1IC0wLjIxMzg5MTUwMDYwNzEzMjkgTS0wLjY5MzA3NTExNzY1NTA5ODQgMTExLjA3MjM2MjEzNjQ3OTQ2IEMwLjAyNjEwNjAyNDQ1MjQ0MzU4OCA4MC43ODcwMTA1NTUxNTE4LCAtMS4yNzgxNTE0NTc4Mzc4MjQ0IDUyLjAwNDA4MjI2MDI2MjEyLCAtMC42MDIwMzI4NjcyNjAyNzczIC0wLjcyODUzNTUyMDg0NDE2MTUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NDkuODA3OTIzMzA1NzkyNyAxMS42NjE2MTA1MzQ4NzEwNDUpIHJvdGF0ZSgwIDQ0LjUgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPk1lZXRpbmcgQXJlYSAyPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOTMuMjM3OTE2MzA2NjA3MyAyMjkuMTEwODM4NjcwNTQxMSkgcm90YXRlKDAgMTc3LjY4OTQ2NTkxMzY2MTI1IDg5LjUxODI2MTM1Nzg2ODA2KSI+PHBhdGggZD0iTS0wLjU5MzUyMzcxOTEwNjI2NiAtMC4zNjYwNzgxMzM1MDc5MTI3NCBDODkuNzQ2Nzg5MTQ4NjQ0NzUgMC45MDk2ODU1MTA4ODEwNTA0LCAxNzguNzIxNTM1NjM2MDMzMiAwLjQzMDgxOTU0OTQ1NjcxMjg2LCAzNTUuNDk0NjU0NTY2OTA0IC0wLjgwMjUwMDk0NzMwMTI3ODIgTS0wLjUyNDE2Nzc4NjI0ODIyMjQgMC4yNzI3NTA2OTg1MTYyNzM4IEMxNDEuMzU0MDExMzUyNDM0NzggMC41NzQ1MjE2NDkwODMxNTQ3LCAyODIuNzQxMjAwODQ3MDIxODQgLTAuMDc1OTYwMzk0MTU3Njg4NDYsIDM1NS41NDU1OTkwMjYxNDY3NiAtMC40OTM5OTc1NDc1MDg2NDQxNiBNMzU3LjE4NzE0MTUwOTIwNTk2IDAuMDg5NTU0MTk2MjIzNjE2NiBDMzUzLjU4ODY4NTY2NjY4MDMgNjAuOTYwNDM3Mjg5MjU3ODEsIDM1NS4zNDAwNzE1MzQyNzYgMTI0LjA1MDE5ODE3NDY1MDQsIDM1Ny4yMDIyMjQ0MDQ5NjE3IDE3OS4xOTI1Mzc5Mzg2MjgzIE0zNTQuNTcxNDIzMDkzMjY3NjQgMC43NDU4OTg0Mzc2ODYyNjQ1IEMzNTQuMTkxNTA5OTM5MDY4NyA0NC41NjcxODg3MDAzNjQwMSwgMzU0LjQwMDc4MjIzNDMwNTI3IDg5LjIwNjE3OTM0OTA4OTExLCAzNTYuMjc2Mjk2ODYzNzQzIDE3OS43NDQxOTU3NzA4NTU5NSBNMzU2LjMwNTUzMDUxNTM2ODEgMTc4LjcxMTQ5MDQ2NDIwODMgQzI0NC45MDc2MTgzOTU3MzgyNCAxNzguNzQwMzE2Mzg5MTY1NDMsIDEzNS4yMDM5MzYxODk5ODQ1MiAxNzguNTkyNDcxMTExNTc3MiwgMC41NzUzNzQ0NjQ0MjM2ODA4IDE4MC4xOTIwNTQzODI3MTUyNyBNMzU1LjE0NDkwODA1Njc5NzkzIDE3OS4yNTQ1OTQ0MTE0Njk0NyBDMjUyLjkwNTc2NzY2NjE2Mzc0IDE4MC42MDg1ODg1OTkxNzcsIDE0OS42NzkyMDgwODA1MTE4IDE4MS4zNjMyMDE2NjI1NTg3NCwgLTAuNDYwMDQ4MTI4MjE4MDk2NSAxNzguNDU1MzMxNDI4NTAwMjQgTTAuNzY5OTA2NDI1ODQ4NjAzMiAxNzkuMTg5NjA0ODUzNjYzNTUgQzAuNTQzOTkwMDA5OTg2MDk0NiAxMjMuODQ4MjQ5Nzk4MTM0MTMsIC0wLjUwMzQ1NjA2MjExNTQ5ODQgNjYuMjAwMjU5ODM5NjUwNiwgLTAuMjQwNDEyNzQ3NDg3NDI1OCAtMC45NjM3MzM5NjU1MzA5OTE2IE0wLjg4ODYwMTkzMTc0MzMyMzggMTc4Ljc0MDM2OTg5NzcxOTQzIEMxLjMxNzU2MjMzNDk0NzU1MDcgMTI4Ljc0MzMxMzY0MjcwMzE2LCAxLjI1MjgxOTIwMzU0ODM5NiA3OS40MTc1MzQ0MzM4OTA1MSwgLTAuNTA3ODY3NDUyNjg4NTE1MiAwLjczMDE5MTI3MjY4MzQ0MTYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjEuNTQ2MjA0NTU1NzkyNjYgMTUxLjM3MjU0ODAzNDg3MTA0KSByb3RhdGUoMCAxOTcuODczMDQ2ODc1IDYuNTAyODcwMDg1MDkzODg5KSI+PHRleHQgeD0iMCIgeT0iMTAuMDA1NzQwMTcwMTg3Nzk0IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMC44ODA1MTA4MDI4MDg3MjRweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RHJhZyB5b3UgYXZhdGFyIGludG8gYSBtZWV0aW5nIGFyZWEgYW5kIHlvdSBjYW4gdGFsayB3aXRoIG90aGVycyBpbiB0aGUgc2FtZSBhcmVhPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1ODEuMDMwNTc5NTU1NzkyNyAyMDYuMjQzNjQxNzg0ODcxMDQpIHJvdGF0ZSgwIDI5LjUgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPkNoYXQgQXJlYTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuNjMyNDQ3NTU2NjA3MzAzIDI1My41NjM5NjM2NzA1NDExKSByb3RhdGUoMCAxMTYuMjU1ODcyMTYzNjYxMjUgNzYuOTU3NzE0NDgyODY4MDYpIj48cGF0aCBkPSJNMS4xMzg4NTQxNzQyNTE2MjE2IDEuMDkwMzgyOTA5MDMzODU4NCBDNTcuODAwMDQ1MDg4OTY3MzggLTIuOTg2OTUwOTgwMDcxMjU5LCAxMTguNTY3NzA5MzQwMzk2NjggLTIuNzQ1NTE2MzE5NTY3MzYyNiwgMjMzLjAzNDkyMDQwODQ3NTIgLTAuODYwNDQzODk4MjY1MjQyMyBNLTAuMzg4NjE3MjcwMzg0NTM3NzUgMC41MzIwOTc5MDI3Mjg5MDc2IEM3My4yNjc5NTc3ODIxNTg1NSAwLjU2NTUyMzg3OTk0NzI3NTYsIDE0Ni4xODk4NTE1NjY0ODE5IDEuMzg0NDA0NjM0NzM3NjA3MywgMjMyLjExODExNjI2OTMwOTM1IDAuNTUwNDI3NzA0NzE0MTAzOCBNMjM0LjMyMjI5MTE0ODMwNTggMC45MDU1OTU2ODQ0MjQwNDI3IEMyMzEuOTQxNzIwMDI1MDM1NCA0OC45MTEwMjMxMjI1NDg2MiwgMjM1LjAwNzM0NDA4MzI4MjAyIDEwMC40NjkzMzE4MDE1MTc5MiwgMjMzLjc4MjY1MjA5MjU3Njg4IDE1My45MDQxNjU1NTk4MzE5NCBNMjMxLjYyMDczMTEwNDU3NTk1IC0wLjA5OTI3NTE5ODc2NTA5OTA1IEMyMzMuMDM5NjcyODQyMTU3NTYgNDguMTE5NDM3ODI5Njc2NCwgMjMyLjY5OTQ0NTMyNzY1MjE3IDk3LjUxMjI1NjUwMjM0Mzk3LCAyMzIuOTcxNzIyMTQ1MDQ0MTcgMTUzLjUwNDY2ODIwODIyMjc3IE0yMzMuMjE3NzQxOTI4MjM3NDQgMTU0LjgxOTg4MDU1MTY4MjEzIEMxNTguMzA2MzgxNzk2ODY0IDE1NC42NDYzMzQ0MDcxMzQ2NywgODMuNTc0Nzc2MTMxODI5NSAxNTMuNzE2ODYzNzYzODUyODQsIC0xLjAwMDI5OTg2NjM0MDg3NjYgMTUyLjUyNDcyMTgzMzYwNTcyIE0yMzIuMTM5Mzg2NTg5MDQwMiAxNTQuNDI0MzgyOTg4ODk2NyBDMTUyLjU2NjcyMTMwNjMzNzY4IDE1NC45MDI5MTczMjUwNTY1NiwgNzQuMDM1MjQxMTg1MzU0NjggMTU0LjExOTYxNzI0MzMzMTAyLCAtMC41NTcwMTk3NDcyMDI5MDczIDE1My40NzAyNzgzNDQ2MDEyIE0tMS4yNDQ1ODkwMjUxNTQ3MDk4IDE1Mi4zNTg1OTU3MjI3Mzg1OCBDLTMuMDgxNzg3MDM3Nzk3NTExIDEwNC44NjgxNTc5NTc3ODc4NiwgLTIuNDA1MDE0MTQ1MzIyMzgzIDU3LjIzMTUwNDc1Mzk5NDM2LCAxLjQ5MDYyNDY3MTgwMTkyNDcgMS45NDM1MzI1NTA3MDc0NTk0IE0tMC4wMzg1NTgwMjM5ODE3NTAwMSAxNTQuNjgxMDUzMzQyNjgxMyBDMC40OTg0MjQ1ODc0MjE1MDMyIDEwNi4yMzM5OTIzNDgwODk1NCwgMC40NTEzNDcwMjEwMzYyMzQwMyA1Ny41NzkxNDAwMjUwNjc1OSwgLTAuOTM1MDcwMjY0MTUzMTgyNSAtMC43NzY3MjA5MzgyNzI3NzQyIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEyLjk4MzcwNDU1NTc5MjY2IDIzMC4wODM0ODU1MzQ4NzEwNCkgcm90YXRlKDAgNzEgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPlZpZGUvU2NyZWVuIFNoYXJlIEFyZWE8L3RleHQ+PC9nPjwvc3ZnPg==) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[392,313],size:[415,208],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""},meeting1:{type:"meeting",position:[382,82],size:[180,115],zIndex:0,background:"",border:"",iframe:""},meeting2:{type:"meeting",position:[614,82],size:[180,115],zIndex:0,background:"",border:"",iframe:""},share:{type:"media",position:[69,343],size:[272,177],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}},phone:{meeting:{type:"meeting",position:[45,40],size:[45,500],zIndex:0,background:"",border:"",iframe:""},share:{type:"media",position:[100,40],size:[1e3,500],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}},igo:Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({chat:{type:"chat",position:[45,200],size:[240,310],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""}},T(1,300,40)),T(2,300,200)),T(3,300,360)),T(4,560,40)),T(5,560,200)),T(6,560,360)),T(7,820,40)),T(8,820,200)),T(9,820,360)),office1:{background:{type:"background",position:[0,0],size:[1021,676],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/111254880-55862c80-8659-11eb-88f1-3aaa42ba2b68.png) left top / contain",border:"",iframe:""},chat:{type:"chat",position:[40,480],size:[380,190],zIndex:0,background:"white",border:"skyblue solid 3px",iframe:""},sofa:{type:"meeting",position:[77,244],size:[273,230],zIndex:0,background:"",border:"",iframe:""},garden:{type:"meeting",position:[297,41],size:[135,125],zIndex:0,background:"",border:"",iframe:""},couch:{type:"meeting",position:[385,321],size:[113,75],zIndex:0,background:"",border:"",iframe:""},share:{type:"media",position:[540,405],size:[480,270],zIndex:0,background:"rgba(0, 240, 0, 0.3)",border:"",iframe:""},go:{type:"goboard",position:[820,95],size:[200,120],zIndex:0,background:"rgba(0,240,0,0.6)",border:"",iframe:""},go2:{type:"goboard",position:[820,220],size:[200,120],zIndex:0,background:"rgba(0,100,240,0.6)",border:"",iframe:""}}},z="gatherRegionMap",d=n(2),O=n.n(d),I=n(3),b=n(13),x=n(108),y=n(144),p=function(){var e=Object(I.a)(O.a.mark((function e(t,n){var c,M,a,r,i,N,s,u,o,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof ImageCapture){e.next=21;break}return c=new ImageCapture(n),e.next=4,Object(y.a)(2e3);case 4:return e.prev=4,e.next=7,c.takePhoto();case 7:return a=e.sent,e.next=10,createImageBitmap(a);case 10:M=e.sent,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),e.next=17,c.grabFrame();case 17:M=e.sent;case 18:return r=M.width,i=M.height,e.abrupt("return",{srcImg:M,srcW:r,srcH:i});case 21:return(N=document.createElement("video")).autoplay=!0,N.setAttribute("playsinline",""),N.style.display="block",N.style.width="1px",N.style.height="1px",N.style.position="absolute",N.style.bottom="0",document.body.appendChild(N),s=function(){document.body.removeChild(N)},N.srcObject=t,e.next=34,Object(y.a)(2e3);case 34:return u=N,o=N.videoWidth,j=N.videoHeight,e.abrupt("return",{srcImg:u,srcW:o,srcH:j,dispose:s});case 38:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(I.a)(O.a.mark((function e(t){var n,M,a,r,i,N,s,u,o,j,D,T,g,z,d,I,b,x,y;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={video:{deviceId:t,width:1280,height:720}},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return M=e.sent,a=M.getVideoTracks(),r=Object(c.a)(a,1),i=r[0],N=document.createElement("canvas"),s=N.getContext("2d"),u=72,o=72,N.width=u,N.height=o,e.next=13,p(M,i);case 13:return j=e.sent,D=j.srcImg,T=j.srcW,g=j.srcH,z=j.dispose,d=Math.max(u/T,o/g),I=Math.min(T,u/d),b=Math.min(g,o/d),x=(T-I)/2,y=(g-b)/2,s.drawImage(D,x,y,I,b,0,0,u,o),z&&z(),i.stop(),e.abrupt("return",N.toDataURL("image/jpeg"));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return Object(x.c)(e)&&"string"===typeof e.image&&function(e){return Object(x.c)(e)&&"string"===typeof e.nickname&&"string"===typeof e.message&&"boolean"===typeof e.liveMode&&"boolean"===typeof e.micOn&&"boolean"===typeof e.speakerOn}(e.info)&&"number"===typeof e.updated},w=function(e,t,n,M,r,i,N,s,u,D){var T=Object(a.useState)(),g=Object(c.a)(T,2),z=g[0],d=g[1],x=Object(a.useState)([]),y=Object(c.a)(x,2),p=y[0],w=y[1];return Object(a.useEffect)((function(){var n=Object(j.a)(e,t),c=n.ydoc.getMap("faceImages"),M=function(){w((function(e){var M=Object(b.a)(e),a=!1;c.forEach((function(e,n){if(n!==t&&m(e)){var c=M.findIndex((function(e){return e.userId===n}));-1===c?(M.push(e),a=!0):e.updated>M[c].updated&&(M[c]=e,a=!0)}}));var r=Date.now()-6e5,i=M.filter((function(e){return e.updated>=r&&n.userIdMap[e.userId]}));return(a=a||M.length!==i.length)?i:e}))};c.observe(M);var a=Object(o.subscribe)(n.userIdMap,M);return M(),function(){a(),c.unobserve(M)}}),[e,t]),Object(a.useEffect)((function(){var c,a=Object(j.a)(e,t).ydoc.getMap("faceImages"),o=!1,T=function(){var e=Object(I.a)(O.a.mark((function e(){var j,g;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,!i){e.next=7;break}e.t0=n,e.next=10;break;case 7:return e.next=9,l(D);case 9:e.t0=e.sent;case 10:if(j=e.t0,!o){e.next=13;break}return e.abrupt("return");case 13:d(j),g={userId:t,image:j,info:{nickname:M,message:r,liveMode:N,micOn:s,speakerOn:u},updated:Date.now()},a.set(t,g),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(2),console.error(e.t1);case 22:c=setTimeout(T,12e4);case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(){return e.apply(this,arguments)}}();return T(),function(){o=!0,clearTimeout(c)}}),[e,t,D,n,M,r,i,N,s,u]),{myImage:z,roomImages:p}},f=n(1533),A=n(1534),k=n(400),E=function(){var e=Object(I.a)(O.a.mark((function e(t){var n,M,a,r,i,N;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?{audio:{deviceId:t}}:{audio:!0},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return M=e.sent,a=M.getAudioTracks(),r=Object(c.a)(a,1),i=r[0],e.next=7,i.applyConstraints({echoCancellation:!0,echoCancellationType:{ideal:"system"},noiseSuppression:{ideal:!0}});case 7:return N=function(){i.stop()},e.abrupt("return",{stream:M,dispose:N});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t,n){var c=t||new MediaStream;return c.addTrack(e),c.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:e})),e.addEventListener("ended",(function(){c.removeTrack(e),0===c.getTracks().length&&n(c)})),c},h=(n(648),r.a.memo((function(e){var t=e.roomId,n=e.userId,r=Object(a.useState)(""),i=Object(c.a)(r,2),N=i[0],s=i[1],u=Object(a.useState)("background"),o=Object(c.a)(u,2),D=o[0],T=o[1],g=Object(a.useState)(100),d=Object(c.a)(g,2),O=d[0],I=d[1],x=Object(a.useState)(100),y=Object(c.a)(x,2),p=y[0],l=y[1],m=Object(a.useState)(100),w=Object(c.a)(m,2),f=w[0],A=w[1],k=Object(a.useState)(100),E=Object(c.a)(k,2),v=E[0],h=E[1],Y=Object(a.useState)(0),Q=Object(c.a)(Y,2),U=Q[0],C=Q[1],S=Object(a.useState)(""),L=Object(c.a)(S,2),Z=L[0],G=L[1],B=Object(a.useState)(""),H=Object(c.a)(B,2),R=H[0],W=H[1],P=Object(a.useState)(""),J=Object(c.a)(P,2),F=J[0],X=J[1],V=Object(a.useState)(null),K=Object(c.a)(V,2),q=K[0],_=K[1],$=Object(b.a)(Object(j.a)(t,n).ydoc.getMap(z).keys());return Object(M.jsxs)("div",{className:"RegionEditor-container",children:[Object(M.jsx)("h3",{children:"Region Editor"}),Object(M.jsxs)("label",{children:["Region ID:"," ",Object(M.jsx)("input",{value:N,onChange:function(e){return s(e.target.value)}})]}),Object(M.jsxs)("select",{onChange:function(e){!function(e){if(s(e),e){var c=Object(j.a)(t,n).ydoc.getMap(z).get(e);T(c.type),I(c.position[0]),l(c.position[1]),A(c.size[0]),h(c.size[1]),C(c.zIndex),G(c.background),W(c.border),X(c.iframe)}}(e.target.value)},children:[Object(M.jsx)("option",{value:"",children:"(Select to load existing region)"}),$.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Type:"," ",Object(M.jsxs)("select",{value:D,onChange:function(e){return T(e.target.value)},children:[Object(M.jsx)("option",{value:"background",children:"Background"}),Object(M.jsx)("option",{value:"meeting",children:"Meeting"}),Object(M.jsx)("option",{value:"chat",children:"Chat"}),Object(M.jsx)("option",{value:"media",children:"Media"}),Object(M.jsx)("option",{value:"goboard",children:"Go Board"})]})]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Left:"," ",Object(M.jsx)("input",{type:"number",value:O,onChange:function(e){return I(Number(e.target.value))}})]}),Object(M.jsxs)("label",{children:["Top:"," ",Object(M.jsx)("input",{type:"number",value:p,onChange:function(e){return l(Number(e.target.value))}})]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Width:"," ",Object(M.jsx)("input",{type:"number",value:f,onChange:function(e){return A(Number(e.target.value))}})]}),Object(M.jsxs)("label",{children:["Height:"," ",Object(M.jsx)("input",{type:"number",value:v,onChange:function(e){return h(Number(e.target.value))}})]}),Object(M.jsx)("hr",{}),"chat"!==D&&Object(M.jsxs)("label",{children:["zIndex:"," ",Object(M.jsx)("input",{type:"number",value:U,max:0,onChange:function(e){return C(Number(e.target.value))}})]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Background:"," ",Object(M.jsx)("input",{value:Z,onChange:function(e){return G(e.target.value)}})]}),Object(M.jsxs)("label",{children:["Border:"," ",Object(M.jsx)("input",{value:R,onChange:function(e){return W(e.target.value)}})]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Iframe:"," ",Object(M.jsx)("input",{value:F,onChange:function(e){return X(e.target.value)}})]}),Object(M.jsx)("hr",{}),Object(M.jsx)("button",{type:"button",onClick:function(){return function(){var e={type:D,position:[O,p],size:[f,v],zIndex:U,background:Z,border:R,iframe:F};Object(j.a)(t,n).ydoc.getMap(z).set(N,e)}()},disabled:!N,children:"Add/Update Region"}),Object(M.jsx)("hr",{}),Object(M.jsxs)("button",{type:"button",className:"RegionEditor-toggle",onClick:function(){q?_(null):function(){var e=Object(j.a)(t,n).ydoc.getMap(z);_(JSON.stringify(e.toJSON()))}()},children:["Import/Export ",q?Object(M.jsx)(M.Fragment,{children:"\u25bc"}):Object(M.jsx)(M.Fragment,{children:"\u25b6"})]}),!!q&&Object(M.jsxs)("div",{children:[Object(M.jsxs)("label",{children:["All Region Data:"," ",Object(M.jsx)("textarea",{value:q,onChange:function(e){return _(e.target.value)}})]}),Object(M.jsx)("button",{type:"button",onClick:function(){var e=Object(j.a)(t,n).ydoc.getMap(z);try{Object.entries(JSON.parse(q||"")).forEach((function(t){var n=Object(c.a)(t,2),M=n[0],a=n[1];e.set(M,a)})),_(null)}catch(M){console.log("failed to save all region data",M)}},children:"Replace (Be careful)"})]})]})}))),Y=(n(649),n(28)),Q=n(10),U=function(){var e=Object(I.a)(O.a.mark((function e(t){var n,c,M;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.slice(0,20),e.next=3,Object(Q.h)(t.slice(Y.a));case 3:return c=e.sent,e.next=6,window.crypto.subtle.exportKey("jwk",c);case 6:return M=e.sent.k,e.abrupt("return","https://excalidraw.com/#room=".concat(n,",").concat(M));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=r.a.memo((function(e){var t=e.roomId,n=Object(a.useState)(),r=Object(c.a)(n,2),i=r[0],N=r[1];Object(a.useEffect)((function(){Object(I.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,U(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[t]);var s="remote-faces://".concat(window.location.href.replace(/^https:\/\//,""));return Object(M.jsxs)("div",{className:"LinkOpener-container",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{title:"Share this link with your colleagues",children:"Room Link: "}),Object(M.jsx)("input",{value:window.location.href,readOnly:!0})]}),Object(M.jsx)("div",{children:Object(M.jsx)("a",{href:s,title:"Open this link in the desktop app",children:"Open App"})}),Object(M.jsx)("div",{children:Object(M.jsx)("a",{href:i,target:"_blank",rel:"noreferrer",children:"Open Excalidraw"})})]})})),S=(n(650),n(651),r.a.memo((function(){return Object(M.jsx)("div",{className:"Loading-container",children:Object(M.jsx)("div",{className:"loader",children:Object(M.jsx)("div",{children:"Loading..."})})})}))),L=(n(652),n(31)),Z=n(401),G=r.a.memo((function(e){var t=e.image,n=e.nickname,c=e.statusMesg,a=e.setStatusMesg,r=e.obsoleted,i=e.liveMode,N=e.stream,s=e.muted,u=e.micOn,o=e.speakerOn,j=e.toggleSuspended,D=e.suspended,T=Object(b.a)(c)[0],g=a?String.fromCodePoint(128221):"";T&&(g=Object(Z.b)(T)?T:String.fromCodePoint(128172));return Object(M.jsxs)("div",{className:"FaceCard-container",style:{opacity:r?.2:1},children:[i&&N?Object(M.jsx)("video",{className:"FaceCard-photo",ref:function(e){e&&e.srcObject!==N&&(e.srcObject=N)},autoPlay:!0,playsInline:!0,muted:s}):Object(M.jsx)("img",{src:t||L.a,className:"FaceCard-photo",alt:"faceImage"}),Object(M.jsx)("div",{className:"FaceCard-name",children:n}),a?Object(M.jsx)("button",{type:"button",className:"FaceCard-mesg",title:c||"(No status message)",onClick:function(){if(a){var e=window.prompt("Enter status message");null!==e&&a(e)}},children:g}):Object(M.jsx)("div",{className:"FaceCard-mesg",title:c||"(No status message)",children:g}),i&&N&&Object(M.jsx)("div",{className:"FaceCard-live-indicator",title:"Live Mode On",children:"\u25c9"}),i&&N&&Object(M.jsxs)("div",{className:"FaceCard-mic-speaker-icons",children:[u&&Object(M.jsx)("span",{title:"Mic On",children:"\ud83c\udfa4"}),o&&Object(M.jsx)("span",{title:"Speaker On",children:"\ud83d\udd08"})]}),!i&&j&&Object(M.jsxs)("button",{type:"button",className:"FaceCard-camera",onClick:j,title:D?"Enable Camera":"Disable Camera",children:["\ud83d\udcf7",D&&Object(M.jsx)("span",{className:"FaceCard-camera-disabled",children:"\u274c"})]})]})})),B=r.a.memo((function(e){var t=e.roomId,n=e.userId,c=e.avatar,a=e.nickname,r=e.statusMesg,N=e.setStatusMesg,s=e.videoDeviceId,u=e.toggleSuspended,o=e.suspended,D=Object(i.useSnapshot)(Object(j.a)(t,n).userIdMap),T=w(t,n,c,a,r,o,!1,!1,!1,s),g=T.myImage,z=T.roomImages,d=Date.now()-12e4;return Object(M.jsxs)("div",{className:"FaceList-list",children:[Object(M.jsx)("div",{className:"FaceList-item",children:Object(M.jsx)(G,{image:g,nickname:a,statusMesg:r,setStatusMesg:N,liveMode:!1,muted:!0,micOn:!1,speakerOn:!1,toggleSuspended:u,suspended:o})}),z.map((function(e){return Object(M.jsx)("div",{className:"FaceList-item",style:"closed"===D[e.userId]?{transform:"scale(0.5)"}:{},children:Object(M.jsx)(G,{image:e.image,nickname:e.info.nickname,statusMesg:e.info.message,obsoleted:e.updated<d,liveMode:!1,muted:!0,micOn:!1,speakerOn:!1})},e.userId)})),!z.length&&Object(M.jsx)("div",{className:"FaceList-item",children:Object(M.jsx)(S,{})})]})})),H=n(30),R=r.a.lazy((function(){return Promise.all([n.e(6),n.e(11)]).then(n.bind(null,1538))})),W=r.a.lazy((function(){return n.e(15).then(n.bind(null,1539))})),P=r.a.lazy((function(){return Promise.all([n.e(17),n.e(13)]).then(n.bind(null,1540))})),J=function(e,t,n){if(n){var c=t[n],M=c.position,a=c.size;return M[0]<=e.position[0]&&M[1]<=e.position[1]&&e.position[0]+36<=M[0]+a[0]&&e.position[1]+36<=M[1]+a[1]}},F=r.a.memo((function(e){var t,n=e.roomId,c=e.userId,r=e.nickname,i=e.id,N=e.data,s=e.highlight;return"micon-meeting"===s?t="0 0 0 5px rgba(255, 0, 0, 0.6)":"active-meeting"===s?t="0 0 0 3px rgba(255, 0, 0, 0.3)":"meeting"===s&&(t="0 0 0 1px rgba(255, 0, 0, 0.3)"),Object(M.jsxs)("div",{className:"GatherArea-region",style:{left:"".concat(N.position[0],"px"),top:"".concat(N.position[1],"px"),width:"".concat(N.size[0],"px"),height:"".concat(N.size[1],"px"),boxShadow:t,zIndex:"chat"!==N.type?N.zIndex:void 0,background:N.background,border:N.border},children:[N.iframe&&Object(M.jsx)("iframe",{title:i,src:N.iframe,frameBorder:"0"}),"chat"===N.type&&Object(M.jsx)(a.Suspense,{fallback:Object(M.jsx)(H.a,{}),children:Object(M.jsx)(R,{roomId:n,userId:c,nickname:r,uniqueId:i})}),"media"===N.type&&Object(M.jsx)(a.Suspense,{fallback:Object(M.jsx)(H.a,{}),children:Object(M.jsx)(W,{roomId:n,userId:c,nickname:r,uniqueId:i})}),"goboard"===N.type&&Object(M.jsx)(a.Suspense,{fallback:Object(M.jsx)(H.a,{}),children:Object(M.jsx)(P,{roomId:n,userId:c,uniqueId:i})})]})})),X=r.a.memo((function(e){var t=e.nickname,n=e.statusMesg,c=e.setStatusMesg,a=e.image,r=e.obsoleted,i=e.position,N=e.setPosition,s=e.registerOnMouseDrag,u=e.stream,o=e.liveMode,j=e.muted,D=e.micOn,T=e.toggleSuspended,g=e.suspended,z=!!N;return Object(M.jsxs)("div",{className:"GatherArea-avatar",style:{left:"".concat(i[0],"px"),top:"".concat(i[1],"px")},onMouseDown:function(e){if(e.preventDefault(),z){var t=e.currentTarget,n=[e.clientX-i[0],e.clientY-i[1]];s((function(e){var c=e.clientX-n[0],M=e.clientY-n[1];t.style.left="".concat(c,"px"),t.style.top="".concat(M,"px"),null===N||void 0===N||N([c,M])}))}},children:[n&&Object(M.jsx)("div",{className:"GatherArea-avatar-balloon",style:{opacity:r?.2:1},children:n}),Object(M.jsx)(G,{image:a,nickname:t,statusMesg:n,setStatusMesg:c,obsoleted:!!r,liveMode:o,stream:u,muted:!!j,micOn:!!D,speakerOn:o,toggleSuspended:T,suspended:g})]})})),V=r.a.memo((function(e){var t=e.roomId,n=e.userId,r=e.avatar,N=e.nickname,T=e.statusMesg,d=e.setStatusMesg,b=e.videoDeviceId,x=e.audioDeviceId,y=e.toggleSuspended,p=e.suspended,l=w(t,n,r,N,T,p,!1,!1,!1,b),m=l.myImage,Y=l.roomImages,Q=function(e,t){var n,M=Object(a.useState)({}),r=Object(c.a)(M,2),i=r[0],N=r[1],D=Object(a.useState)({position:(n=t,[parseInt(n.slice(0,2),16)/2+50,parseInt(n.slice(2,4),16)/2+30])}),T=Object(c.a)(D,2),d=T[0],O=T[1];Object(a.useEffect)((function(){var n=Object(j.a)(e,t),c=n.ydoc.getMap("gatherAvatarMap"),M=function(){N((function(e){var M=Object(u.a)({},e),a=!1;return c.forEach((function(e,c){var r,i;c!==t&&n.userIdMap[c]&&function(e){try{var t=e;return"number"===typeof t.position[0]&&"number"===typeof t.position[1]}catch(n){return!1}}(e)&&(M[c]?(r=e,i=M[c],(r.position[0]!==i.position[0]||r.position[1]!==i.position[1])&&(M[c]=e,a=!0)):(M[c]=e,a=!0))})),Object.keys(M).forEach((function(e){n.userIdMap[e]||(delete M[e],a=!0)})),a?M:e}))};c.observe(M);var a=Object(o.subscribe)(n.userIdMap,M);return M(),function(){a(),c.unobserve(M)}}),[e,t]);var I=Object(a.useRef)();Object(a.useEffect)((function(){d&&(I.current?I.current=d:(I.current=d,setTimeout((function(){Object(j.a)(e,t).ydoc.getMap("gatherAvatarMap").set(t,I.current),I.current=void 0}),500)))}),[e,t,d]);var b=Object(a.useState)({}),x=Object(c.a)(b,2),y=x[0],p=x[1];Object(a.useEffect)((function(){var n=Object(j.a)(e,t).ydoc.getMap(z),M=function(){p((function(e){var t={};return n.forEach((function(n,c){var M,a;(function(e){try{var t=e;return!(!["background","meeting","chat","media","goboard"].includes(t.type)||"number"!==typeof t.position[0]||"number"!==typeof t.position[1]||"number"!==typeof t.size[0]||"number"!==typeof t.size[1]||"undefined"!==typeof t.zIndex&&"number"!==typeof t.zIndex||"undefined"!==typeof t.background&&"string"!==typeof t.background||"undefined"!==typeof t.border&&"string"!==typeof t.border||"undefined"!==typeof t.iframe&&"string"!==typeof t.iframe)}catch(n){return!1}})(n)&&(e[c]&&(a=n,(M=e[c]).type===a.type&&M.position[0]===a.position[0]&&M.position[1]===a.position[1]&&M.size[0]===a.size[0]&&M.size[1]===a.size[1]&&M.zIndex===a.zIndex&&M.background===a.background&&M.border===a.border&&M.iframe===a.iframe)?t[c]=e[c]:t[c]=n)})),t}))};n.observe(M),M();var a=setTimeout((function(){var e=Object(s.c)()||"",t=g[e];t&&(n.size>0||Object.entries(t).forEach((function(e){var t=Object(c.a)(e,2),M=t[0],a=t[1];n.set(M,a)})))}),1e4);return function(){clearTimeout(a),n.unobserve(M)}}),[e,t]);var l=Object(a.useCallback)((function(n,c){Object(j.a)(e,t).ydoc.getMap(z).set(n,c)}),[e,t]);return{avatarMap:i,myAvatar:d,setMyAvatar:O,regionMap:y,updateRegion:l}}(t,n),U=Q.avatarMap,S=Q.myAvatar,L=Q.setMyAvatar,Z=Q.regionMap,G=Object(a.useRef)(),H=Object(a.useCallback)((function(e){G.current=e}),[]),R=function(e,t){return Object.keys(t).sort((function(e,n){var c,M;return(null!==(c=t[n].zIndex)&&void 0!==c?c:0)-(null!==(M=t[e].zIndex)&&void 0!==M?M:0)})).find((function(n){var c=t[n],M=c.type,a=c.position,r=c.size;return"meeting"===M&&a[0]<=e.position[0]+36&&a[1]<=e.position[1]+36&&e.position[0]<=a[0]+r[0]&&e.position[1]<=a[1]+r[1]}))}(S,Z),W=J(S,Z,R),P=function(e,t,n,M,r,N,s,o){var T="".concat(o||"face","Video"),g="".concat(o||"face","Audio"),z=Object(a.useState)(null),d=Object(c.a)(z,2),b=d[0],x=d[1],y=Object(a.useState)({}),p=Object(c.a)(y,2),l=p[0],m=p[1],w=Object(a.useRef)(!0);Object(a.useEffect)((function(){return function(){w.current=!1}}),[]);var h=function(e){var t,n=Object(c.a)(e,2),M=n[0],a=n[1];if("ended"!==a.readyState&&!(null===(t=l[M])||void 0===t?void 0:t.getTracks().includes(a))){var r=function(e){w.current&&m((function(t){var n=t[M],c=Object(f.a)(t,[M].map(A.a));return n===e?c:t}))};m((function(e){var t=e[M],n=v(a,t,r);return t===n?e:Object(u.a)(Object(u.a)({},e),{},Object(D.a)({},M,n))}))}},Y=Object(i.useSnapshot)(Object(j.a)(e,t).trackMap);return Object.entries(Y[T]||{}).forEach(h),Object.entries(Y[g]||{}).forEach(h),Object(a.useEffect)((function(){var M=Object(j.a)(e,t),a=null;return n&&Object(I.a)(O.a.mark((function e(){var t,n,r,i,s,u,o,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)(N);case 2:t=e.sent,n=t.stream,r=t.dispose,i=n.getVideoTracks(),s=Object(c.a)(i,1),u=s[0],M.addMediaType(T),M.addTrack(T,u),o=function(e){w.current&&x((function(t){return t===e?null:t}))},x((function(e){return v(u,e,o)})),j=function(){M.removeMediaType(T),M.removeTrack(T),r(),u.dispatchEvent(new Event("ended"))},!1===a?j():a=j;case 12:case"end":return e.stop()}}),e)})))(),function(){a&&a(),a=!1}}),[e,t,n,N,T]),Object(a.useEffect)((function(){var n=Object(j.a)(e,t),a=null;return M&&Object(I.a)(O.a.mark((function e(){var t,M,r,i,N,u,o,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(s);case 2:t=e.sent,M=t.stream,r=t.dispose,i=M.getAudioTracks(),N=Object(c.a)(i,1),u=N[0],n.addMediaType(g),n.addTrack(g,u),o=function(e){w.current&&x((function(t){return t===e?null:t}))},x((function(e){return v(u,e,o)})),j=function(){n.removeMediaType(g),n.removeTrack(g),r(),u.dispatchEvent(new Event("ended"))},!1===a?j():a=j;case 12:case"end":return e.stop()}}),e)})))(),function(){a&&a(),a=!1}}),[e,t,M,s,g]),Object(a.useEffect)((function(){if(b){b.getAudioTracks().forEach((function(e){e.enabled=r}));var e=function(e){var t=e.track;"audio"===t.kind&&(t.enabled=r)};return b.addEventListener("addtrack",e),function(){b.removeEventListener("addtrack",e)}}}),[b,r]),{faceStream:b,faceStreamMap:l}}(t,n,!!R,!!R,!!W,b,x,"gatherArea/meeting/".concat(R,"/")),V=P.faceStream,K=P.faceStreamMap,q=Object(a.useState)(null),_=Object(c.a)(q,2),$=_[0],ee=_[1],te=Date.now()-12e4;return Object(M.jsxs)("div",{className:"GatherArea-container",children:[Object(M.jsxs)("div",{className:"GatherArea-body",onMouseMove:function(e){G.current&&G.current(e)},onMouseUp:function(){H()},children:[Object.entries(Z).map((function(e){var a=Object(c.a)(e,2),r=a[0],i=a[1];return Object(M.jsx)(F,{roomId:t,userId:n,nickname:N,id:r,data:i,highlight:r===R&&(W?"micon-meeting":"active-meeting")||("meeting"===i.type?"meeting":void 0)},r)})),Object.entries(U).map((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1];if(a===n)return null;var i=Y.find((function(e){return e.userId===a}));return i?Object(M.jsx)(X,{nickname:i.info.nickname,statusMesg:i.info.message,image:i.image,obsoleted:i.updated<te,position:r.position,registerOnMouseDrag:H,stream:K[a],liveMode:!!R,micOn:J(r,Z,R)},a):null})),Object(M.jsx)(X,{nickname:N,statusMesg:T,setStatusMesg:d,image:m,position:S.position,setPosition:function(e){return L((function(t){return Object(u.a)(Object(u.a)({},t),{},{position:e})}))},registerOnMouseDrag:H,stream:V||void 0,liveMode:!!R,muted:!0,micOn:W,toggleSuspended:y,suspended:p})]}),Object(M.jsx)("div",{className:"GatherArea-facelist",children:Object(M.jsx)(B,{roomId:t,userId:n,avatar:r,nickname:N,statusMesg:T,setStatusMesg:d,videoDeviceId:b,toggleSuspended:y,suspended:p})}),Object(M.jsxs)("div",{className:"GatherArea-toolbar",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{type:"button",onClick:function(){return ee("region-editor"===$?null:"region-editor")},children:"region-editor"===$?"Close Region Editor":"Open Region Editor"}),"region-editor"===$&&Object(M.jsx)("div",{className:"GatherArea-region-editor",children:Object(M.jsx)(h,{roomId:t,userId:n})})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{type:"button",onClick:function(){return ee("link-opener"===$?null:"link-opener")},children:"link-opener"===$?"Close Link Opener":"Open Link Opener"}),"link-opener"===$&&Object(M.jsx)("div",{className:"GatherArea-link-opener",children:Object(M.jsx)(C,{roomId:t})})]})]})]})})),K=r.a.memo((function(){var e=Object(i.useSnapshot)(N.b),t=e.roomId,n=e.userId,r=e.config,u=Object(a.useState)(""),o=Object(c.a)(u,2),j=o[0],D=o[1];return Object(a.useEffect)((function(){Object(s.g)(t)}),[t]),Object(M.jsx)("div",{className:"SingleRoom-container",children:Object(M.jsx)(V,{roomId:t,userId:n,avatar:r.avatar,nickname:r.nickname,statusMesg:j,setStatusMesg:D,suspended:!r.takePhoto,videoDeviceId:r.videoDeviceId,audioDeviceId:r.audioDeviceId,toggleSuspended:N.c})})}));t.default=K},400:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return N}));var c=n(2),M=n.n(c),a=n(4),r=n(3),i=function(){var e=Object(r.a)(M.a.mark((function e(t){var n,c,r,i,N,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?{video:{deviceId:t}}:{video:!0},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return c=e.sent,r=c.getVideoTracks(),i=Object(a.a)(r,1),N=i[0],s=function(){N.stop()},e.abrupt("return",{stream:c,dispose:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.a)(M.a.mark((function e(t){var n,c,r,i,N,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={video:{deviceId:t,frameRate:{max:5},width:{exact:72},height:{exact:72}}},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return c=e.sent,r=c.getVideoTracks(),i=Object(a.a)(r,1),N=i[0],s=function(){N.stop()},e.abrupt("return",{stream:c,dispose:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},401:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));n(653);var c=n(394),M=n(221),a=c.a,r=function(e){return!!Object(c.b)(e,"apple",M)}},643:function(e,t,n){},644:function(e,t,n){},648:function(e,t,n){},649:function(e,t,n){},650:function(e,t,n){},651:function(e,t,n){},652:function(e,t,n){}}]);
//# sourceMappingURL=9.92d67f8a.chunk.js.map