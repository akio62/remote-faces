{"version":3,"sources":["components/CollabWhiteBoard.tsx","utils/excalidraw.ts"],"names":["CollabWhiteBoard","React","memo","roomId","useState","url","setUrl","useEffect","a","generateExcalidrawURL","excalidrawUrl","className","title","src","id","slice","importCryptoKey","ROOM_ID_PREFIX_LEN","imported","window","crypto","subtle","exportKey","key","k"],"mappings":"yRAKaA,EAAmBC,IAAMC,MAEnC,YAAiB,IAAdC,EAAa,EAAbA,OAAa,EACKC,qBADL,mBACVC,EADU,KACLC,EADK,KAQjB,OANAC,qBAAU,WACR,sBAAC,4BAAAC,EAAA,sEAC6BC,YAAsBN,GADnD,OACOO,EADP,OAECJ,EAAOI,GAFR,0CAAD,KAIC,CAACP,IAEF,qBAAKQ,UAAU,6BAAf,SACGN,GAAO,wBAAQO,MAAM,aAAaC,IAAKR,SAK/BL,a,8GCnBFS,EAAqB,uCAAG,WAAON,GAAP,mBAAAK,EAAA,6DAC7BM,EAAKX,EAAOY,MAAM,EAAG,IADQ,SAEZC,YAAgBb,EAAOY,MAAME,MAFjB,cAE7BC,EAF6B,gBAGhBC,OAAOC,OAAOC,OAAOC,UAAU,MAAOJ,GAHtB,cAG7BK,EAH6B,OAGiCC,EAHjC,yDAIIV,EAJJ,YAIUS,IAJV,2CAAH","file":"static/js/21.57ce09c7.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport \"./CollabWhiteBoard.css\";\nimport { generateExcalidrawURL } from \"../utils/excalidraw\";\n\nexport const CollabWhiteBoard = React.memo<{\n  roomId: string;\n}>(({ roomId }) => {\n  const [url, setUrl] = useState<string>();\n  useEffect(() => {\n    (async () => {\n      const excalidrawUrl = await generateExcalidrawURL(roomId);\n      setUrl(excalidrawUrl);\n    })();\n  }, [roomId]);\n  return (\n    <div className=\"CollabWhiteBoard-container\">\n      {url && <iframe title=\"Excalidraw\" src={url} />}\n    </div>\n  );\n});\n\nexport default CollabWhiteBoard;\n","import { ROOM_ID_PREFIX_LEN } from \"../network/room\";\nimport { importCryptoKey } from \"./crypto\";\n\nexport const generateExcalidrawURL = async (roomId: string) => {\n  const id = roomId.slice(0, 20);\n  const imported = await importCryptoKey(roomId.slice(ROOM_ID_PREFIX_LEN));\n  const key = (await window.crypto.subtle.exportKey(\"jwk\", imported)).k;\n  return `https://excalidraw.com/#room=${id},${key}`;\n};\n"],"sourceRoot":""}