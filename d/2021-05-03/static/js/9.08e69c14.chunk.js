(this["webpackJsonpremote-faces-web"]=this["webpackJsonpremote-faces-web"]||[]).push([[9],{102:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return a}));var c=function(e){return"object"===typeof e&&null!==e},M=function(e,t){return"string"===typeof e[t]},a=function(e,t){return c(e[t])}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var c=n(4),M=n(2),a=n.n(M),r=n(3),i=n(5),N=n(1237),s=n(28),j=(n(13),function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var e=n.result,c=e.indexOf(",")+1;t(e.slice(c))},n.readAsDataURL(new Blob([e]))}))}),u=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data:application/octet-binary;base64,".concat(t));case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return c=e.sent,e.abrupt("return",new Uint8Array(c));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=new Map,T=function(e,t){var n="".concat(e,":").concat(t);if(!o.has(n)){var M=function(e,t){var n=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.acceptingMediaTypes.includes(t)){e.next=3;break}return console.log("media type already added",t),e.abrupt("return");case 3:return O.acceptingMediaTypes.push(t),e.next=6,d;case 6:e.sent.acceptMediaTypes(Object(i.snapshot)(O.acceptingMediaTypes));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=O.acceptingMediaTypes.indexOf(t))){e.next=4;break}return console.log("media type already added",t),e.abrupt("return");case 4:return O.acceptingMediaTypes.splice(n,1),e.next=7,d;case 7:e.sent.acceptMediaTypes(Object(i.snapshot)(O.acceptingMediaTypes));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(r.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:e.sent.addTrack(t,n);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:e.sent.removeTrack(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:e.sent.dispose();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(i.proxy)({networkStatusList:[],userIdMap:{},ydoc:Object(i.ref)(new N.a),acceptingMediaTypes:[],trackMap:{},addMediaType:n,removeMediaType:M,addTrack:o,removeTrack:T,dispose:z}),D=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c,M;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N.c(O.ydoc),e.next=3,j(n);case 3:c=e.sent,M={ydocUpdate:c},d.then((function(e){e.sendData(M,t)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(a.a.mark((function e(t,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.userIdMap[n.userId]=n.peerIndex,!(null===t||void 0===t?void 0:t.ydocUpdate)){e.next=6;break}return e.next=4,u(t.ydocUpdate);case 4:c=e.sent,N.b(O.ydoc,c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();O.ydoc.on("update",function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:n=e.sent,d.then((function(e){e.broadcastData({ydocUpdate:n})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var d=Object(s.b)(e,t,(function(e){console.log("[network status]",e),O.networkStatusList.unshift(e),O.networkStatusList.length>10&&O.networkStatusList.pop(),"CONNECTION_CLOSED"===(null===e||void 0===e?void 0:e.type)&&Object.entries(O.userIdMap).forEach((function(t){var n=Object(c.a)(t,2),M=n[0];n[1]===e.peerIndex&&(O.userIdMap[M]="closed")}))}),D,g,(function(e,t,n){O.trackMap[e]||(O.trackMap[e]={}),t.addEventListener("ended",(function(){O.trackMap[e][n.userId]===t&&delete O.trackMap[e][n.userId]})),O.trackMap[e][n.userId]=Object(i.ref)(t)}));return O}(e,t);o.set(n,M)}return o.get(n)}},1242:function(e,t,n){"use strict";n.r(t),n.d(t,"SingleRoom",(function(){return K}));var c=n(4),M=n(0),a=n(1),r=n.n(a),i=n(16),N=(n(521),n(9)),s=n(6),j=n(100),u=(n(522),n(5)),o=n(119),T=n(15),z=function(e,t,n){var c;return c={},Object(T.a)(c,"meeting".concat(e),{type:"meeting",position:[t,n],size:[250,150],zIndex:0,background:"",border:"",iframe:""}),Object(T.a)(c,"gobard".concat(e),{type:"goboard",position:[t,n],size:[250,150],zIndex:0,background:"rgba(140, 140, 140, 0.2)",border:"",iframe:""}),c},O={intro:{background:{type:"background",position:[36,36],size:[800,500],zIndex:-100,background:"url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDY4MC4zNDYzNDI2MTE2ODk4IDQxOC4zODk1NDg4ODYyNzcyIiB3aWR0aD0iMTM2MC42OTI2ODUyMjMzNzk2IiBoZWlnaHQ9IjgzNi43NzkwOTc3NzI1NTQ1Ij4KICA8IS0tIHN2Zy1zb3VyY2U6ZXhjYWxpZHJhdyAtLT4KICAKICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgQGZvbnQtZmFjZSB7CiAgICAgICAgZm9udC1mYW1pbHk6ICJWaXJnaWwiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL1ZpcmdpbC53b2ZmMiIpOwogICAgICB9CiAgICAgIEBmb250LWZhY2UgewogICAgICAgIGZvbnQtZmFtaWx5OiAiQ2FzY2FkaWEiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL0Nhc2NhZGlhLndvZmYyIik7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSI2ODAuMzQ2MzQyNjExNjg5OCIgaGVpZ2h0PSI0MTguMzg5NTQ4ODg2Mjc3MiIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMyLjIzOTE2NDQ5NTk3NjA3IDE5Ni45NTI1NDU2NjU3MzYyNCkgcm90YXRlKDAgLTExLjA5OTE4NzYwNTE1MDY5IC0yNS4yODU0ODU0OTM0NjM3OTYpIj48cGF0aCBkPSJNMC4wNDA3ODkyODU2NzQ2OTEyIDAuOTM5NjA4ODAzMDE4OTI3NCBDLTMuNTQ5NDY2OTY2NTQ2NjY4NyAtNy43MDc3MTE2NjQ4NTk2MjgsIC0xNy43NTQ5NzIzODI2NzAxMTUgLTQyLjgxMDczMTMyMjE5MDA1LCAtMjEuNjM1Nzk3NTU4ODQxNjcgLTUxLjUxMDU3OTc4OTk0NjUzIE0tMS4zOTY5MzUwNjg2ODU1NjE1IDAuMzg3Mjk5NDc5MjY0NzY2MTYgQy01LjA3OTUxODQzNDY1NDUxOCAtOC4xNDIxMjg2OTg4NTYwNjIsIC0xOC45OTcwNTgyMTUxMjA2NTMgLTQxLjg3NTk0OTU0MjE1MjAyLCAtMjIuMjM5MTY0NDk1OTc2MDg0IC01MC4yOTYwMDIyMDUyODg3MTUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMi4yMzkxNjQ0OTU5NzYwNyAxOTYuOTUyNTQ1NjY1NzM2MjQpIHJvdGF0ZSgwIC0xMS4wOTkxODc2MDUxNTA2OSAtMjUuMjg1NDg1NDkzNDYzNzk2KSI+PHBhdGggZD0iTS0yLjEzMzA2MjQwMDIxMjY5NCAtMjguNTExMzY0OTc4Nzc2NTI3IEMtMTAuMjA0NzU1OTMzNTYzMjMgLTM3LjIzMDI3MjYwNDgyODI2LCAtMTUuMjAyNjUzMzkzMDM3MTQgLTQyLjAzOTQ2MDg1ODE4NzIxLCAtMjQuMTYwNjQxODQ5MTc2NCAtNDkuOTI5MzE4NTM3NzYzMDY2IE0tNC4xNDYzNjQ5NTY0NTE3NjIgLTI4LjYzOTA1NzE5NDg1MjQ4NCBDLTEwLjQ4NjAwNzQ5NjI5ODk1NSAtMzUuOTcyNTc3MTE3NTYxODU1LCAtMTQuOTE0ODk3ODAzNjg4NDU4IC00Mi44OTkxNzc3ODI2MzAwMzQsIC0yMS41MzA4NTg3NzY2Njc1MyAtNDkuNjcwNjI1NDYyMDI0MjIiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMi4yMzkxNjQ0OTU5NzYwNyAxOTYuOTUyNTQ1NjY1NzM2MjQpIHJvdGF0ZSgwIC0xMS4wOTkxODc2MDUxNTA2OSAtMjUuMjg1NDg1NDkzNDYzNzk2KSI+PHBhdGggZD0iTS0xOS43NzAxNjQyODg5OTUwNiAtMjEuNDM0NjY1MTU4OTA3Nzc3IEMtMjIuNzExMjgzNzI4NDY5OTA1IC0zMi4yMjY5OTAyNjY4ODk3NCwgLTIyLjU1NjU5MDEyMzUzOTM1OCAtMzkuMTAzNjAwOTYyMjgzNzksIC0yNC4xNjA2NDE4NDkxNzY0IC00OS45MjkzMTg1Mzc3NjMwNjYgTS0yMS43ODM0NjY4NDUyMzQxMjcgLTIxLjU2MjM1NzM3NDk4MzczMyBDLTIyLjczMzYyMTc1MTY4MDgyNSAtMzEuMDgyMTAyMzk5NjE2NjY2LCAtMjEuNzA2MTk2NjkwMjQ0OTI2IC00MC4xOTc5OTE2NTgxOTY0OCwgLTIxLjUzMDg1ODc3NjY2NzUzIC00OS42NzA2MjU0NjIwMjQyMiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOC45NjU2MjI0NDY0ODQ3NiAyMDAuNjYwMjg2Mzg2OTgwMjYpIHJvdGF0ZSgwIDI2Ljg3MzY2NjkwNTUzNDYzNCA3LjYzMDc5NDMwNjUwOTg0MSkiPjx0ZXh0IHg9IjAiIHk9IjEyLjI2MTU4ODYxMzAxOTY4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcwOTJweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RmFjZSBMaXN0PC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOC4zODQyNTI2MzkyMzA0NTMgMTApIHJvdGF0ZSgwIDgwLjY3OTc3MTMxMjM4NjQ5IDYyLjE4MDkwODAyMTMxMTgzNikiPjxwYXRoIGQ9Ik0tMC4wNjM0MjExNjU1NzA2MTY3MiAtMS40MDMwODMyNTkyMzk3OTI4IEM2My43NDQzMzc4NTI0NTk2MSAwLjI3MzQwMTA0NTA2MTcwMzkzLCAxMjguODIzOTExMjE2ODAzMyAtMS43NzE3MTE3NDM2MTU1MTE2LCAxNjIuNTkxMzQyMzcwNzA1MTggMC4yMDU1MzU4OTQyNTk4MTA0NSBNLTAuNjQxNjEwMzIxNTg4ODE0MyAwLjgyODE2NjU4NjM0NjkyNDMgQzYwLjMxOTEwODY0MDAxNzgzIC0xLjIxMTQ4NzkzOTE4Mzk3NjgsIDExOC45MTkxNzM3MjQzNjYxNyAtMC45MjY5ODA1NzUxNDkzMjQxLCAxNjEuOTU0MDQ3NDkwNTkwNjggLTAuNjU1NjIyMTEyNTY0NzQyNiBNMTU5LjYzMzU5NTM4ODEzMDcxIC0xLjE5OTA1OTk1NzYzODM4MyBDMTYxLjgxODM1NTA4OTM4NDQgNDQuNjcyMzIwNTAxMzQ4MDEsIDE2MS4xMDUyNjcyMzI2MTQ4NCA4Ni4yOTk4MTAxOTgwMDUzLCAxNjMuMjU5MTYzMzYwNzkwNzggMTI0Ljk1NDM2NDM1ODk2ODI4IE0xNjIuMzI4NDAyMDkxNDk3MDUgLTAuMTg0NjgxNzYxMDc4NTM2NSBDMTYwLjA4Njg5MzYzOTM4NzUgMzEuMDMyODgzNTA1MTk4MjM1LCAxNjEuNzczMTIzMjU1NzkxMSA2MS40ODk5NjMxMjIzNjYxMiwgMTYwLjU1NTk0NDcwMDQ3MzQyIDEyMy44ODY0MTIxNzk2MTgzMiBNMTYxLjE0NDY2MjgzODE3NzI1IDEyMy44OTk2MzcyODE0ODQxNSBDMTE0LjY2ODUzMTM4MTcyOTQyIDEyNC44NjU2OTY0NTgzOTYzNCwgNjkuNjk4NzExMzQxOTA3NTggMTI1LjMwMDYyODk4ODMyMjY0LCAwLjY4NzM4NTM0NDg3NzgzOTEgMTI1LjEzOTc5ODY0MDc5NDMgTTE2MS41NTMyMzE3MzU0NjE4MiAxMjMuOTI4ODc4MTA0ODM1IEM5Ni40ODQ2OTY0MjUzNjAwNyAxMjYuMzkzMzkzMjE5MTI1NTcsIDMyLjYxMzA2MzM5MDM0Mzc3IDEyNS4wNDYzNjc5MTQwOTI4NCwgMC4wNTAzMjM5MzYxNTY5Mjg1NCAxMjMuNTQ4NTM4MjczNzIxMTggTS0wLjA0NzI0NzYyNDAyNDc0ODggMTIzLjY3MTc1Njc0Mzk3NDIzIEMtMS45NTIyNTc0MzQ3NzE2OTk0IDgyLjI2MzMwNzMyMDM1OTA1LCAwLjQ0MzI5MzQ3MTg4NjQ3MzE3IDQxLjI0OTUxNjkzOTEwMjI1LCAxLjUyNTMzMDM4ODkxODUxOSAxLjIyMzIwMzQ4NTgzMTYxODMgTTAuMzQzNjM5MTA4MzUyMzYzMSAxMjQuMTY1MjE1MzE5NTQzMzIgQzAuODAwMTUzMjcyNjMxOTA5NyA3OC4zMDQyMjAxMzUzOTg0OCwgMS41MDY2Nzg5ODU4MzcyNDc0IDMzLjg5MTc4NDcxMjMwMTAyLCAwLjcyNzc3MzEzMjczNDAwMDcgMC4zMzY4OTAyMDI5NDY5NjA5IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA5LjU3NzQyMjUxNzAwNDA0IDEyLjcwMjc4MDY5NDEwNDk0NSkgcm90YXRlKDAgMzAuODU0OTUwODkxNTM5NzcyIDcuNjMwNzk0MzA2NTA5ODQxKSI+PHRleHQgeD0iMCIgeT0iMTIuMjYxNTg4NjEzMDE5NjgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzA5OHB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5FbnRyeSBBcmVhPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MC41MDQ2Njg2OTk5NDUzNCAxMzkuMzQ5NjE2MjA4NDI1OCkgcm90YXRlKDAgNTkgNikiPjx0ZXh0IHg9IjAiIHk9IjEwIiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMC42MTY3NTcyOTYwMTM2ODFweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+WW91IGNhbiBkcmFnIHlvdXIgYXZhdGFyPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyODQuOTAzNDE4OTQ1ODM3NzYgMzEuNDUwNjgyNDIwNTQxMTE0KSByb3RhdGUoMCA4NC4xOTkyMzE1Mzg2NjEyNSA1NS4yNTA2ODMyMzI4NjgwODQpIj48cGF0aCBkPSJNMC45NjU4MTM2NDIzNjc3MjA2IDAuNzkwMzMwNzMyMjQxMjcyOSBDNTkuOTI2MDgxODMzNzkyOTcgLTIuNTQwMDEwMzg1OTkwNzcwNiwgMTI0LjAzNTUyNTY2OTEzOTEyIC0xLjM3OTY0NTEwMjUwMTU0MzMsIDE2OC42ODM5NzY0MjQzMzczMiAtMS45ODUyMjYyNDkzMjIyOTUyIE0wLjA5NTA2MDI0MTQwODY0NjEgMC42NTI5MTMwMzY3NTYyMTc1IEM0NC4wNzQ5MTU2NTcwMzQ3NCAyLjI3MDc5MDQ0NjA5MDQyMDUsIDg2Ljk2ODg0NTk3MDQyNjk0IDEuNzY0MTc0NzE3OTUwNTQzMSwgMTY3LjkwMDA1OTIxMjQwOTg0IC0wLjQ1Mjk2MzIwMDM5Nzc4OTUgTTE2OC43MjgyNDgzNzAyOTA3IC0wLjkzNDEyMzEzNDI0MDUwODEgQzE2OC44ODkzMDA0MDE1ODA4NCAyMi41NjAxOTg5NDg1NDU2NDcsIDE2Ni4xOTM3ODU1NDM4MTE4MyA0NS42MTAzMzE5NTk2NzY1MywgMTY2LjQ5ODk0MjU2NjUxNDkgMTEwLjc0Njc4OTI3MDQ2NDMyIE0xNjcuNzg0NjI3MTg4NDA3NzcgLTAuNDcyMTkzODA0NTY5NTQyNCBDMTcwLjE2ODc0NzEyNTkzMjYgMjYuNDEwNDYzNzc4OTc1NzksIDE3MC4xNjQ0MTEzMzUwNjAwNCA1My42NjEwNzQ2NjI5OTcxOTQsIDE2OC41OTY0MTgzOTk3NzQ0MiAxMTAuMDAyNzM2NTQwODk0OTQgTTE2Ny42NTcyNDM0NDMxMzIzMyAxMTEuMDg4NDA0NDcwNTA3MDQgQzEwOC4wOTg4Njc4ODk0NjMyOSAxMTIuMjIzNzg5NzU4MzMzMzcsIDQ1LjEwOTQ2Nzc4NDQwMjY1IDExMy4wMzI5NTQ5MzgwNjI4MywgLTEuNjU0MzU3NjA2NTQ1MDkwNyAxMDkuMDA1MzQwOTI3NjY0MTggTTE2Ny40NDc3NzU2MjEzNzc4MiAxMDkuODY3MTgwNTU4MzA1MjIgQzEwNS43MTM1NTA4NTIyNzQ1NSAxMTAuOTMwNDI4ODY4NjYzMTYsIDQ0LjQ2MTgyMTM5MTA5MzYzNiAxMTEuNTU5NzcwODU4NDE4NzksIDAuODI0NDk1MDU5NDM4MDQ5OCAxMDkuNzAyMzgwNTk5ODM3NzQgTTEuMzcwNDEzNjA2OTg2NDAzNSAxMDkuNzM2NTg5MzA2NDE3ODQgQy0wLjk1ODA3OTU0MjQxNzAyMDUgNzYuMDExNzIyMjI5ODc4MzIsIC0xLjY2OTM5ODY5MDk1NzUxNzQgNDEuMDgxMDY5NDAxOTk2MDIsIDEuNTM1MTAxMTgwODk2MTYzIDAuODY5MTAzMDM4NjgzNTMzNyBNLTAuNzM3NDg1NDI2NDc4MDg3OSAxMTEuMzQyMzQ0OTQxOTU1MDUgQzAuMDAwNDM3MDA0Njg0Nzk5OTAyMDcgNzQuMjg0NjkzMTg4MTU4MzcsIC0xLjY5NDE0NzI3NTU2NzY1NjggMzkuMjQ0MzQ3NzYyMTgxNTMsIDAuODc2NjA3MTkxNzQ4OTE3MSAwLjcwNTc1MjkxMTk3NzQ2OTkiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTkuMjUwNzY5Njk1MDIzMSAxMi4yOTA1MTY3ODQ4NzEwNDUpIHJvdGF0ZSgwIDQ0LjUgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPk1lZXRpbmcgQXJlYSAxPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NzkuNjI5OTgxNDQ1ODM3NzYgMzIuMjMxOTMyNDIwNTQxMTEpIHJvdGF0ZSgwIDg0LjE5OTIzMTUzODY2MTI1IDU1LjI1MDY4MzIzMjg2ODA4NCkiPjxwYXRoIGQ9Ik0wLjM5NTkxMDY0NDkwMzc3OTAzIC0wLjk5NzI1OTg0OTY4MjQ1MDMgQzQ5LjU0NzgxMTMzMzc3OTc5IC0yLjY0NDgxNDczMzEyMjk1MDYsIDk4LjE0NzYxMjc5NDc1MDUzIC0xLjcwNzcwOTczMzEwMzg3NywgMTY4Ljk4NTUwMTA4MjA5MzQgMC45MTE1MjgyOTQ5MDYwMjAyIE0tMC44MjcxNzg4MDMyNzI1NDUzIC0wLjc0ODAxMjc2OTAzNTk5NSBDNTQuNDE0Mjk4NTA2MTcwNTggLTEuODY3MTY3OTQ4ODc2Njc0NCwgMTA4LjA1MDM0MDQ0NDIxNDc4IC0xLjk1MzkxMTY5MTEwNDIyODcsIDE2Ny43NjQyNzcxNjk4OTE1OSAtMC43ODc5Mzc1OTkyMzQyODMgTTE3MC4wNDc0NTMxOTYxOTg2MyAtMS41OTc5NzE3MzE3OTY4NjA3IEMxNjguNTQ3MzIwNDIwOTgyMDYgMjcuOTUyODE2MDA0NDg0MjYsIDE2Ny41OTUyMDkzNTU1OTQzMyA1NS44Mjg3NDM3NDAxNTUwMjYsIDE2Ny42MzM2ODU5MTgwMDQyIDEwOS45NDMxMDkwMTA3Mjk5MyBNMTY5LjE2NjAxMzY2Nzc3MDYgMC40MzQ1NTE1MTkzNDE3NjY4MyBDMTY3LjkzMzQwMzQ3NjEyNTE2IDM1Ljg5NzE5MzcyMzc2NDM5LCAxNjcuODQyNjc1NTgwNjI2OSA2OS40NzkzODU2Nzk0Njg3NSwgMTY5LjIzOTQ0MTU1MzU0MTQgMTExLjM3MzM5MjAyNzI1NTE0IE0xNzAuMTUxNjc3NDYwODIwMzcgMTExLjkxMjg3MjI4OTY5MTExIEMxMjQuMzIzODYxOTA2MzU5NjEgMTExLjI2MDIzMjc1MDA3MjczLCA4MS42NTExMDA0NDQzMDYwOCAxMTEuNzcyMjMxNzAxNTA3ODIsIDEuNjk4NDgwNjg5ODk4MTMzMyAxMDkuODYyNzQ4NTM4NTI3NjMgTTE2OC45NzcyNDUyNTExMjc0NyAxMTAuODk1Njc4MjAzOTM2NjUgQzEwNi45NzM1NTYwMDIxNTUzNiAxMDguNzIwNzg1NjMxNzA0OTQsIDQ2LjAyOTQwOTQwOTEyODA5IDEwOS4xNTMzMjcwOTE1MDM3NSwgLTAuNjY2NjA0MjE4MDczMTg5MyAxMTAuODQ5MTU1ODU0ODE3NDcgTS0xLjk5Mzk5MjI0NDgyNDc2NzEgMTEwLjUwMTcxNjUyOTQwMjg3IEMxLjc5Mjc4OTYxOTE0MDQ3NTcgNzUuNDM5NzExODYzOTExOTEsIDAuOTg5MjM0MzA5MzY3OTg0NCA0MC4zMDYyNDA3NTI0OTgxLCAxLjUzNDAwMTQ5MzgyNjUwODUgLTAuMjEzODkxNTAwNjA3MTMyOSBNLTAuNjkzMDc1MTE3NjU1MDk4NCAxMTEuMDcyMzYyMTM2NDc5NDYgQzAuMDI2MTA2MDI0NDUyNDQzNTg4IDgwLjc4NzAxMDU1NTE1MTgsIC0xLjI3ODE1MTQ1NzgzNzgyNDQgNTIuMDA0MDgyMjYwMjYyMTIsIC0wLjYwMjAzMjg2NzI2MDI3NzMgLTAuNzI4NTM1NTIwODQ0MTYxNSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU1NC4zOTkyMDcxOTUwMjMxIDExLjkwMzc5ODAzNDg3MTA0NSkgcm90YXRlKDAgNDQuNSA3LjUpIj48dGV4dCB4PSIwIiB5PSIxMiIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgU2Vnb2UgVUkgRW1vamkiIGZvbnQtc2l6ZT0iMTMuMjcwOTQ2NjIwMDE3MTFweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+TWVldGluZyBBcmVhIDI8L3RleHQ+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI5Ny44MjkyMDAxOTU4Mzc3NiAyMjkuMzUzMDI2MTcwNTQxMSkgcm90YXRlKDAgMTc3LjY4OTQ2NTkxMzY2MTI1IDg5LjUxODI2MTM1Nzg2ODA2KSI+PHBhdGggZD0iTS0wLjU5MzUyMzcxOTEwNjI2NiAtMC4zNjYwNzgxMzM1MDc5MTI3NCBDODkuNzQ2Nzg5MTQ4NjQ0NzUgMC45MDk2ODU1MTA4ODEwNTA0LCAxNzguNzIxNTM1NjM2MDMzMiAwLjQzMDgxOTU0OTQ1NjcxMjg2LCAzNTUuNDk0NjU0NTY2OTA0IC0wLjgwMjUwMDk0NzMwMTI3ODIgTS0wLjUyNDE2Nzc4NjI0ODIyMjQgMC4yNzI3NTA2OTg1MTYyNzM4IEMxNDEuMzU0MDExMzUyNDM0NzggMC41NzQ1MjE2NDkwODMxNTQ3LCAyODIuNzQxMjAwODQ3MDIxODQgLTAuMDc1OTYwMzk0MTU3Njg4NDYsIDM1NS41NDU1OTkwMjYxNDY3NiAtMC40OTM5OTc1NDc1MDg2NDQxNiBNMzU3LjE4NzE0MTUwOTIwNTk2IDAuMDg5NTU0MTk2MjIzNjE2NiBDMzUzLjU4ODY4NTY2NjY4MDMgNjAuOTYwNDM3Mjg5MjU3ODEsIDM1NS4zNDAwNzE1MzQyNzYgMTI0LjA1MDE5ODE3NDY1MDQsIDM1Ny4yMDIyMjQ0MDQ5NjE3IDE3OS4xOTI1Mzc5Mzg2MjgzIE0zNTQuNTcxNDIzMDkzMjY3NjQgMC43NDU4OTg0Mzc2ODYyNjQ1IEMzNTQuMTkxNTA5OTM5MDY4NyA0NC41NjcxODg3MDAzNjQwMSwgMzU0LjQwMDc4MjIzNDMwNTI3IDg5LjIwNjE3OTM0OTA4OTExLCAzNTYuMjc2Mjk2ODYzNzQzIDE3OS43NDQxOTU3NzA4NTU5NSBNMzU2LjMwNTUzMDUxNTM2ODEgMTc4LjcxMTQ5MDQ2NDIwODMgQzI0NC45MDc2MTgzOTU3MzgyNCAxNzguNzQwMzE2Mzg5MTY1NDMsIDEzNS4yMDM5MzYxODk5ODQ1MiAxNzguNTkyNDcxMTExNTc3MiwgMC41NzUzNzQ0NjQ0MjM2ODA4IDE4MC4xOTIwNTQzODI3MTUyNyBNMzU1LjE0NDkwODA1Njc5NzkzIDE3OS4yNTQ1OTQ0MTE0Njk0NyBDMjUyLjkwNTc2NzY2NjE2Mzc0IDE4MC42MDg1ODg1OTkxNzcsIDE0OS42NzkyMDgwODA1MTE4IDE4MS4zNjMyMDE2NjI1NTg3NCwgLTAuNDYwMDQ4MTI4MjE4MDk2NSAxNzguNDU1MzMxNDI4NTAwMjQgTTAuNzY5OTA2NDI1ODQ4NjAzMiAxNzkuMTg5NjA0ODUzNjYzNTUgQzAuNTQzOTkwMDA5OTg2MDk0NiAxMjMuODQ4MjQ5Nzk4MTM0MTMsIC0wLjUwMzQ1NjA2MjExNTQ5ODQgNjYuMjAwMjU5ODM5NjUwNiwgLTAuMjQwNDEyNzQ3NDg3NDI1OCAtMC45NjM3MzM5NjU1MzA5OTE2IE0wLjg4ODYwMTkzMTc0MzMyMzggMTc4Ljc0MDM2OTg5NzcxOTQzIEMxLjMxNzU2MjMzNDk0NzU1MDcgMTI4Ljc0MzMxMzY0MjcwMzE2LCAxLjI1MjgxOTIwMzU0ODM5NiA3OS40MTc1MzQ0MzM4OTA1MSwgLTAuNTA3ODY3NDUyNjg4NTE1MiAwLjczMDE5MTI3MjY4MzQ0MTYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjYuMTM3NDg4NDQ1MDIzMSAxNTEuNjE0NzM1NTM0ODcxMDQpIHJvdGF0ZSgwIDIwMi4xMDQ0MjcwODMzMzMzNSA2LjYxOTE0MDYyNSkiPjx0ZXh0IHg9IjAiIHk9IjEwLjIzODI4MTI1IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMS43MTIzMDE1ODczMDE1NTdweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RHJhZyB5b3UgYXZhdGFyIGludG8gYSBtZWV0aW5nIGFyZWEgYW5kIHlvdSBjYW4gd2l0aCBvdGhlcnMgaW4gdGhlIHNhbWUgYXJlYTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTg1LjYyMTg2MzQ0NTAyMzEgMjA2LjQ4NTgyOTI4NDg3MTA0KSByb3RhdGUoMCAyOS41IDcuNSkiPjx0ZXh0IHg9IjAiIHk9IjEyIiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcxMXB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5DaGF0IEFyZWE8L3RleHQ+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI5LjIyMzczMTQ0NTgzNzc1NyAyNTMuODA2MTUxMTcwNTQxMSkgcm90YXRlKDAgMTE2LjI1NTg3MjE2MzY2MTI1IDc2Ljk1NzcxNDQ4Mjg2ODA2KSI+PHBhdGggZD0iTTEuMTM4ODU0MTc0MjUxNjIxNiAxLjA5MDM4MjkwOTAzMzg1ODQgQzU3LjgwMDA0NTA4ODk2NzM4IC0yLjk4Njk1MDk4MDA3MTI1OSwgMTE4LjU2NzcwOTM0MDM5NjY4IC0yLjc0NTUxNjMxOTU2NzM2MjYsIDIzMy4wMzQ5MjA0MDg0NzUyIC0wLjg2MDQ0Mzg5ODI2NTI0MjMgTS0wLjM4ODYxNzI3MDM4NDUzNzc1IDAuNTMyMDk3OTAyNzI4OTA3NiBDNzMuMjY3OTU3NzgyMTU4NTUgMC41NjU1MjM4Nzk5NDcyNzU2LCAxNDYuMTg5ODUxNTY2NDgxOSAxLjM4NDQwNDYzNDczNzYwNzMsIDIzMi4xMTgxMTYyNjkzMDkzNSAwLjU1MDQyNzcwNDcxNDEwMzggTTIzNC4zMjIyOTExNDgzMDU4IDAuOTA1NTk1Njg0NDI0MDQyNyBDMjMxLjk0MTcyMDAyNTAzNTQgNDguOTExMDIzMTIyNTQ4NjIsIDIzNS4wMDczNDQwODMyODIwMiAxMDAuNDY5MzMxODAxNTE3OTIsIDIzMy43ODI2NTIwOTI1NzY4OCAxNTMuOTA0MTY1NTU5ODMxOTQgTTIzMS42MjA3MzExMDQ1NzU5NSAtMC4wOTkyNzUxOTg3NjUwOTkwNSBDMjMzLjAzOTY3Mjg0MjE1NzU2IDQ4LjExOTQzNzgyOTY3NjQsIDIzMi42OTk0NDUzMjc2NTIxNyA5Ny41MTIyNTY1MDIzNDM5NywgMjMyLjk3MTcyMjE0NTA0NDE3IDE1My41MDQ2NjgyMDgyMjI3NyBNMjMzLjIxNzc0MTkyODIzNzQ0IDE1NC44MTk4ODA1NTE2ODIxMyBDMTU4LjMwNjM4MTc5Njg2NCAxNTQuNjQ2MzM0NDA3MTM0NjcsIDgzLjU3NDc3NjEzMTgyOTUgMTUzLjcxNjg2Mzc2Mzg1Mjg0LCAtMS4wMDAyOTk4NjYzNDA4NzY2IDE1Mi41MjQ3MjE4MzM2MDU3MiBNMjMyLjEzOTM4NjU4OTA0MDIgMTU0LjQyNDM4Mjk4ODg5NjcgQzE1Mi41NjY3MjEzMDYzMzc2OCAxNTQuOTAyOTE3MzI1MDU2NTYsIDc0LjAzNTI0MTE4NTM1NDY4IDE1NC4xMTk2MTcyNDMzMzEwMiwgLTAuNTU3MDE5NzQ3MjAyOTA3MyAxNTMuNDcwMjc4MzQ0NjAxMiBNLTEuMjQ0NTg5MDI1MTU0NzA5OCAxNTIuMzU4NTk1NzIyNzM4NTggQy0zLjA4MTc4NzAzNzc5NzUxMSAxMDQuODY4MTU3OTU3Nzg3ODYsIC0yLjQwNTAxNDE0NTMyMjM4MyA1Ny4yMzE1MDQ3NTM5OTQzNiwgMS40OTA2MjQ2NzE4MDE5MjQ3IDEuOTQzNTMyNTUwNzA3NDU5NCBNLTAuMDM4NTU4MDIzOTgxNzUwMDEgMTU0LjY4MTA1MzM0MjY4MTMgQzAuNDk4NDI0NTg3NDIxNTAzMiAxMDYuMjMzOTkyMzQ4MDg5NTQsIDAuNDUxMzQ3MDIxMDM2MjM0MDMgNTcuNTc5MTQwMDI1MDY3NTksIC0wLjkzNTA3MDI2NDE1MzE4MjUgLTAuNzc2NzIwOTM4MjcyNzc0MiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExNy41NzQ5ODg0NDUwMjMxMSAyMzAuMzI1NjczMDM0ODcxMDQpIHJvdGF0ZSgwIDcxIDcuNSkiPjx0ZXh0IHg9IjAiIHk9IjEyIiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcxMXB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5WaWRlL1NjcmVlbiBTaGFyZSBBcmVhPC90ZXh0PjwvZz48L3N2Zz4=) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[390,308],size:[408,205],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""},meeting1:{type:"meeting",position:[380,80],size:[180,115],zIndex:0,background:"",border:"",iframe:""},meeting2:{type:"meeting",position:[610,80],size:[180,115],zIndex:0,background:"",border:"",iframe:""},share:{type:"media",position:[72,338],size:[270,175],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}},phone:{meeting:{type:"meeting",position:[45,40],size:[45,500],zIndex:0,background:"",border:"",iframe:""},share:{type:"media",position:[100,40],size:[1e3,500],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}},igo:Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({chat:{type:"chat",position:[45,200],size:[240,310],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""}},z(1,300,40)),z(2,300,200)),z(3,300,360)),z(4,560,40)),z(5,560,200)),z(6,560,360)),z(7,820,40)),z(8,820,200)),z(9,820,360)),office1:{background:{type:"background",position:[0,0],size:[1021,676],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/111254880-55862c80-8659-11eb-88f1-3aaa42ba2b68.png) left top / contain",border:"",iframe:""},chat:{type:"chat",position:[40,480],size:[380,190],zIndex:0,background:"white",border:"skyblue solid 3px",iframe:""},sofa:{type:"meeting",position:[77,244],size:[273,230],zIndex:0,background:"",border:"",iframe:""},garden:{type:"meeting",position:[297,41],size:[135,125],zIndex:0,background:"",border:"",iframe:""},couch:{type:"meeting",position:[385,321],size:[113,75],zIndex:0,background:"",border:"",iframe:""},share:{type:"media",position:[540,405],size:[480,270],zIndex:0,background:"rgba(0, 240, 0, 0.3)",border:"",iframe:""},go:{type:"goboard",position:[820,95],size:[200,120],zIndex:0,background:"rgba(0,240,0,0.6)",border:"",iframe:""},go2:{type:"goboard",position:[820,220],size:[200,120],zIndex:0,background:"rgba(0,100,240,0.6)",border:"",iframe:""}}},D="gatherRegionMap",g=n(2),d=n.n(g),I=n(3),b=n(13),x=n(102),y=n(125),p=function(){var e=Object(I.a)(d.a.mark((function e(t,n){var c,M,a,r,i,N,s,j,u,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof ImageCapture){e.next=21;break}return c=new ImageCapture(n),e.next=4,Object(y.a)(2e3);case 4:return e.prev=4,e.next=7,c.takePhoto();case 7:return a=e.sent,e.next=10,createImageBitmap(a);case 10:M=e.sent,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),e.next=17,c.grabFrame();case 17:M=e.sent;case 18:return r=M.width,i=M.height,e.abrupt("return",{srcImg:M,srcW:r,srcH:i});case 21:return(N=document.createElement("video")).autoplay=!0,N.setAttribute("playsinline",""),N.style.display="block",N.style.width="1px",N.style.height="1px",N.style.position="absolute",N.style.bottom="0",document.body.appendChild(N),s=function(){document.body.removeChild(N)},N.srcObject=t,e.next=34,Object(y.a)(2e3);case 34:return j=N,u=N.videoWidth,o=N.videoHeight,e.abrupt("return",{srcImg:j,srcW:u,srcH:o,dispose:s});case 38:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(I.a)(d.a.mark((function e(t){var n,M,a,r,i,N,s,j,u,o,T,z,O,D,g,I,b,x,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={video:{deviceId:t,width:1280,height:720}},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return M=e.sent,a=M.getVideoTracks(),r=Object(c.a)(a,1),i=r[0],N=document.createElement("canvas"),s=N.getContext("2d"),j=72,u=72,N.width=j,N.height=u,e.next=13,p(M,i);case 13:return o=e.sent,T=o.srcImg,z=o.srcW,O=o.srcH,D=o.dispose,g=Math.max(j/z,u/O),I=Math.min(z,j/g),b=Math.min(O,u/g),x=(z-I)/2,y=(O-b)/2,s.drawImage(T,x,y,I,b,0,0,j,u),D&&D(),i.stop(),e.abrupt("return",N.toDataURL("image/jpeg"));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return Object(x.c)(e)&&"string"===typeof e.image&&function(e){return Object(x.c)(e)&&"string"===typeof e.nickname&&"string"===typeof e.message&&"boolean"===typeof e.liveMode&&"boolean"===typeof e.micOn&&"boolean"===typeof e.speakerOn}(e.info)&&"number"===typeof e.updated},A=function(e,t,n,M,r,i,N,s,j,T){var z=Object(a.useState)(),O=Object(c.a)(z,2),D=O[0],g=O[1],x=Object(a.useState)([]),y=Object(c.a)(x,2),p=y[0],A=y[1];return Object(a.useEffect)((function(){var n=Object(o.a)(e,t),c=n.ydoc.getMap("faceImages"),M=function(){A((function(e){var M=Object(b.a)(e),a=!1;c.forEach((function(e,c){if(c!==t&&n.userIdMap[c]&&m(e)){var r=M.findIndex((function(e){return e.userId===c}));-1===r?(M.push(e),a=!0):e.updated>M[r].updated&&(M[r]=e,a=!0)}}));var r=Date.now()-6e5,i=M.filter((function(e){return e.updated>=r&&n.userIdMap[e.userId]}));return(a=a||M.length!==i.length)?i:e}))};c.observe(M);var a=Object(u.subscribe)(n.userIdMap,M);return M(),function(){a(),c.unobserve(M)}}),[e,t]),Object(a.useEffect)((function(){var c,a=Object(o.a)(e,t).ydoc.getMap("faceImages"),u=!1,z=function(){var e=Object(I.a)(d.a.mark((function e(){var o,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,!i){e.next=7;break}e.t0=n,e.next=10;break;case 7:return e.next=9,l(T);case 9:e.t0=e.sent;case 10:if(o=e.t0,!u){e.next=13;break}return e.abrupt("return");case 13:g(o),O={userId:t,image:o,info:{nickname:M,message:r,liveMode:N,micOn:s,speakerOn:j},updated:Date.now()},a.set(t,O),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(2),console.error(e.t1);case 22:c=setTimeout(z,12e4);case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(){return e.apply(this,arguments)}}();return z(),function(){u=!0,clearTimeout(c)}}),[e,t,T,n,M,r,i,N,s,j]),{myImage:D,roomImages:p}},k=n(1238),f=n(1239),w=n(325),E=function(){var e=Object(I.a)(d.a.mark((function e(t){var n,M,a,r,i,N;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?{audio:{deviceId:t}}:{audio:!0},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return M=e.sent,a=M.getAudioTracks(),r=Object(c.a)(a,1),i=r[0],e.next=7,i.applyConstraints({echoCancellation:!0,echoCancellationType:{ideal:"system"},noiseSuppression:{ideal:!0}});case 7:return N=function(){i.stop()},e.abrupt("return",{stream:M,dispose:N});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e,t,n){var c=t||new MediaStream;return c.addTrack(e),c.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:e})),e.addEventListener("ended",(function(){c.removeTrack(e),0===c.getTracks().length&&n(c)})),c},v=(n(526),r.a.memo((function(e){var t=e.roomId,n=e.userId,r=Object(a.useState)(""),i=Object(c.a)(r,2),N=i[0],s=i[1],j=Object(a.useState)("background"),u=Object(c.a)(j,2),T=u[0],z=u[1],O=Object(a.useState)(100),g=Object(c.a)(O,2),d=g[0],I=g[1],x=Object(a.useState)(100),y=Object(c.a)(x,2),p=y[0],l=y[1],m=Object(a.useState)(100),A=Object(c.a)(m,2),k=A[0],f=A[1],w=Object(a.useState)(100),E=Object(c.a)(w,2),Y=E[0],v=E[1],h=Object(a.useState)(0),Q=Object(c.a)(h,2),U=Q[0],C=Q[1],S=Object(a.useState)(""),L=Object(c.a)(S,2),Z=L[0],B=L[1],G=Object(a.useState)(""),R=Object(c.a)(G,2),H=R[0],W=R[1],P=Object(a.useState)(""),F=Object(c.a)(P,2),X=F[0],J=F[1],V=Object(a.useState)(null),K=Object(c.a)(V,2),q=K[0],_=K[1],$=Object(b.a)(Object(o.a)(t,n).ydoc.getMap(D).keys());return Object(M.jsxs)("div",{className:"RegionEditor-container",children:[Object(M.jsx)("h3",{children:"Region Editor"}),Object(M.jsxs)("label",{children:["Region ID:"," ",Object(M.jsx)("input",{value:N,onChange:function(e){return s(e.target.value)}})]}),Object(M.jsxs)("select",{onChange:function(e){!function(e){if(s(e),e){var c=Object(o.a)(t,n).ydoc.getMap(D).get(e);z(c.type),I(c.position[0]),l(c.position[1]),f(c.size[0]),v(c.size[1]),C(c.zIndex),B(c.background),W(c.border),J(c.iframe)}}(e.target.value)},children:[Object(M.jsx)("option",{value:"",children:"(Select to load existing region)"}),$.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Type:"," ",Object(M.jsxs)("select",{value:T,onChange:function(e){return z(e.target.value)},children:[Object(M.jsx)("option",{value:"background",children:"Background"}),Object(M.jsx)("option",{value:"meeting",children:"Meeting"}),Object(M.jsx)("option",{value:"chat",children:"Chat"}),Object(M.jsx)("option",{value:"media",children:"Media"}),Object(M.jsx)("option",{value:"goboard",children:"Go Board"})]})]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Left:"," ",Object(M.jsx)("input",{type:"number",value:d,onChange:function(e){return I(Number(e.target.value))}})]}),Object(M.jsxs)("label",{children:["Top:"," ",Object(M.jsx)("input",{type:"number",value:p,onChange:function(e){return l(Number(e.target.value))}})]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Width:"," ",Object(M.jsx)("input",{type:"number",value:k,onChange:function(e){return f(Number(e.target.value))}})]}),Object(M.jsxs)("label",{children:["Height:"," ",Object(M.jsx)("input",{type:"number",value:Y,onChange:function(e){return v(Number(e.target.value))}})]}),Object(M.jsx)("hr",{}),"chat"!==T&&Object(M.jsxs)("label",{children:["zIndex:"," ",Object(M.jsx)("input",{type:"number",value:U,max:0,onChange:function(e){return C(Number(e.target.value))}})]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Background:"," ",Object(M.jsx)("input",{value:Z,onChange:function(e){return B(e.target.value)}})]}),Object(M.jsxs)("label",{children:["Border:"," ",Object(M.jsx)("input",{value:H,onChange:function(e){return W(e.target.value)}})]}),Object(M.jsx)("hr",{}),Object(M.jsxs)("label",{children:["Iframe:"," ",Object(M.jsx)("input",{value:X,onChange:function(e){return J(e.target.value)}})]}),Object(M.jsx)("hr",{}),Object(M.jsx)("button",{type:"button",onClick:function(){return function(){var e={type:T,position:[d,p],size:[k,Y],zIndex:U,background:Z,border:H,iframe:X};Object(o.a)(t,n).ydoc.getMap(D).set(N,e)}()},disabled:!N,children:"Add/Update Region"}),Object(M.jsx)("hr",{}),Object(M.jsxs)("button",{type:"button",className:"RegionEditor-toggle",onClick:function(){q?_(null):function(){var e=Object(o.a)(t,n).ydoc.getMap(D);_(JSON.stringify(e.toJSON()))}()},children:["Import/Export ",q?Object(M.jsx)(M.Fragment,{children:"\u25bc"}):Object(M.jsx)(M.Fragment,{children:"\u25b6"})]}),!!q&&Object(M.jsxs)("div",{children:[Object(M.jsxs)("label",{children:["All Region Data:"," ",Object(M.jsx)("textarea",{value:q,onChange:function(e){return _(e.target.value)}})]}),Object(M.jsx)("button",{type:"button",onClick:function(){var e=Object(o.a)(t,n).ydoc.getMap(D);try{Object.entries(JSON.parse(q||"")).forEach((function(t){var n=Object(c.a)(t,2),M=n[0],a=n[1];e.set(M,a)})),_(null)}catch(M){console.log("failed to save all region data",M)}},children:"Replace (Be careful)"})]})]})}))),h=(n(527),n(28)),Q=n(10),U=function(){var e=Object(I.a)(d.a.mark((function e(t){var n,c,M;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.slice(0,20),e.next=3,Object(Q.h)(t.slice(h.a));case 3:return c=e.sent,e.next=6,window.crypto.subtle.exportKey("jwk",c);case 6:return M=e.sent.k,e.abrupt("return","https://excalidraw.com/#room=".concat(n,",").concat(M));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=r.a.memo((function(e){var t=e.roomId,n=Object(a.useState)(),r=Object(c.a)(n,2),i=r[0],N=r[1];Object(a.useEffect)((function(){Object(I.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,U(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[t]);var s="remote-faces://".concat(window.location.href.replace(/^https:\/\//,""));return Object(M.jsxs)("div",{className:"LinkOpener-container",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{title:"Share this link with your colleagues",children:"Room Link: "}),Object(M.jsx)("input",{value:window.location.href,readOnly:!0})]}),Object(M.jsx)("div",{children:Object(M.jsx)("a",{href:s,title:"Open this link in the desktop app",children:"Open App"})}),Object(M.jsx)("div",{children:Object(M.jsx)("a",{href:i,target:"_blank",rel:"noreferrer",children:"Open Excalidraw"})})]})})),S=(n(528),n(529),r.a.memo((function(){return Object(M.jsx)("div",{className:"Loading-container",children:Object(M.jsx)("div",{className:"loader",children:Object(M.jsx)("div",{children:"Loading..."})})})}))),L=(n(530),n(31)),Z=n(326),B=r.a.memo((function(e){var t=e.image,n=e.nickname,c=e.statusMesg,a=e.setStatusMesg,r=e.obsoleted,i=e.liveMode,N=e.stream,s=e.muted,j=e.micOn,u=e.speakerOn,o=e.toggleSuspended,T=e.suspended,z=Object(b.a)(c)[0],O=a?String.fromCodePoint(128221):"";z&&(O=Object(Z.b)(z)?z:String.fromCodePoint(128172));return Object(M.jsxs)("div",{className:"FaceCard-container",style:{opacity:r?.2:1},children:[i&&N?Object(M.jsx)("video",{className:"FaceCard-photo",ref:function(e){e&&e.srcObject!==N&&(e.srcObject=N)},autoPlay:!0,playsInline:!0,muted:s}):Object(M.jsx)("img",{src:t||L.a,className:"FaceCard-photo",alt:"faceImage"}),Object(M.jsx)("div",{className:"FaceCard-name",children:n}),a?Object(M.jsx)("button",{type:"button",className:"FaceCard-mesg",title:c||"(No status message)",onClick:function(){if(a){var e=window.prompt("Enter status message");null!==e&&a(e)}},children:O}):Object(M.jsx)("div",{className:"FaceCard-mesg",title:c||"(No status message)",children:O}),i&&N&&Object(M.jsx)("div",{className:"FaceCard-live-indicator",title:"Live Mode On",children:"\u25c9"}),i&&N&&Object(M.jsxs)("div",{className:"FaceCard-mic-speaker-icons",children:[j&&Object(M.jsx)("span",{title:"Mic On",children:"\ud83c\udfa4"}),u&&Object(M.jsx)("span",{title:"Speaker On",children:"\ud83d\udd08"})]}),!i&&o&&Object(M.jsxs)("button",{type:"button",className:"FaceCard-camera",onClick:o,title:T?"Enable Camera":"Disable Camera",children:["\ud83d\udcf7",T&&Object(M.jsx)("span",{className:"FaceCard-camera-disabled",children:"\u274c"})]})]})})),G=r.a.memo((function(e){var t=e.roomId,n=e.userId,c=e.avatar,a=e.nickname,r=e.statusMesg,N=e.setStatusMesg,s=e.videoDeviceId,j=e.toggleSuspended,u=e.suspended,T=Object(i.useSnapshot)(Object(o.a)(t,n).userIdMap),z=A(t,n,c,a,r,u,!1,!1,!1,s),O=z.myImage,D=z.roomImages,g=Date.now()-12e4;return Object(M.jsxs)("div",{className:"FaceList-list",children:[Object(M.jsx)("div",{className:"FaceList-item",children:Object(M.jsx)(B,{image:O,nickname:a,statusMesg:r,setStatusMesg:N,liveMode:!1,muted:!0,micOn:!1,speakerOn:!1,toggleSuspended:j,suspended:u})}),D.map((function(e){return Object(M.jsx)("div",{className:"FaceList-item",style:"closed"===T[e.userId]?{transform:"scale(0.5)"}:{},children:Object(M.jsx)(B,{image:e.image,nickname:e.info.nickname,statusMesg:e.info.message,obsoleted:e.updated<g,liveMode:!1,muted:!0,micOn:!1,speakerOn:!1})},e.userId)})),!D.length&&Object(M.jsx)("div",{className:"FaceList-item",children:Object(M.jsx)(S,{})})]})})),R=n(30),H=r.a.lazy((function(){return Promise.all([n.e(6),n.e(11)]).then(n.bind(null,1243))})),W=r.a.lazy((function(){return n.e(15).then(n.bind(null,1244))})),P=r.a.lazy((function(){return Promise.all([n.e(17),n.e(13)]).then(n.bind(null,1245))})),F=function(e,t,n){if(n){var c=t[n],M=c.position,a=c.size;return M[0]<=e.position[0]&&M[1]<=e.position[1]&&e.position[0]+36<=M[0]+a[0]&&e.position[1]+36<=M[1]+a[1]}},X=r.a.memo((function(e){var t,n=e.roomId,c=e.userId,r=e.nickname,i=e.id,N=e.data,s=e.highlight;return"micon-meeting"===s?t="0 0 0 5px rgba(255, 0, 0, 0.6)":"active-meeting"===s?t="0 0 0 3px rgba(255, 0, 0, 0.3)":"meeting"===s&&(t="0 0 0 1px rgba(255, 0, 0, 0.3)"),Object(M.jsxs)("div",{className:"GatherArea-region",style:{left:"".concat(N.position[0],"px"),top:"".concat(N.position[1],"px"),width:"".concat(N.size[0],"px"),height:"".concat(N.size[1],"px"),boxShadow:t,zIndex:"chat"!==N.type?N.zIndex:void 0,background:N.background,border:N.border},children:[N.iframe&&Object(M.jsx)("iframe",{title:i,src:N.iframe,frameBorder:"0"}),"chat"===N.type&&Object(M.jsx)(a.Suspense,{fallback:Object(M.jsx)(R.a,{}),children:Object(M.jsx)(H,{roomId:n,userId:c,nickname:r,uniqueId:i})}),"media"===N.type&&Object(M.jsx)(a.Suspense,{fallback:Object(M.jsx)(R.a,{}),children:Object(M.jsx)(W,{roomId:n,userId:c,nickname:r,uniqueId:i})}),"goboard"===N.type&&Object(M.jsx)(a.Suspense,{fallback:Object(M.jsx)(R.a,{}),children:Object(M.jsx)(P,{roomId:n,userId:c,uniqueId:i})})]})})),J=r.a.memo((function(e){var t=e.nickname,n=e.statusMesg,c=e.setStatusMesg,a=e.image,r=e.obsoleted,i=e.position,N=e.setPosition,s=e.registerOnMouseDrag,j=e.stream,u=e.liveMode,o=e.muted,T=e.micOn,z=e.toggleSuspended,O=e.suspended,D=!!N;return Object(M.jsxs)("div",{className:"GatherArea-avatar",style:{left:"".concat(i[0],"px"),top:"".concat(i[1],"px")},onMouseDown:function(e){if(e.preventDefault(),D){var t=e.currentTarget,n=[e.clientX-i[0],e.clientY-i[1]];s((function(e){var c=e.clientX-n[0],M=e.clientY-n[1];t.style.left="".concat(c,"px"),t.style.top="".concat(M,"px"),null===N||void 0===N||N([c,M])}))}},children:[n&&Object(M.jsx)("div",{className:"GatherArea-avatar-balloon",style:{opacity:r?.2:1},children:n}),Object(M.jsx)(B,{image:a,nickname:t,statusMesg:n,setStatusMesg:c,obsoleted:!!r,liveMode:u,stream:j,muted:!!o,micOn:!!T,speakerOn:u,toggleSuspended:z,suspended:O})]})})),V=r.a.memo((function(e){var t=e.roomId,n=e.userId,r=e.avatar,N=e.nickname,z=e.statusMesg,g=e.setStatusMesg,b=e.videoDeviceId,x=e.audioDeviceId,y=e.toggleSuspended,p=e.suspended,l=A(t,n,r,N,z,p,!1,!1,!1,b),m=l.myImage,h=l.roomImages,Q=function(e,t){var n,M=Object(a.useState)({}),r=Object(c.a)(M,2),i=r[0],N=r[1],T=Object(a.useState)({position:(n=t,[parseInt(n.slice(0,2),16)/2+50,parseInt(n.slice(2,4),16)/2+30])}),z=Object(c.a)(T,2),g=z[0],d=z[1];Object(a.useEffect)((function(){var n=Object(o.a)(e,t),c=n.ydoc.getMap("gatherAvatarMap"),M=function(){N((function(e){var M=Object(j.a)({},e),a=!1;return c.forEach((function(e,c){var r,i;c!==t&&n.userIdMap[c]&&function(e){try{var t=e;return"number"===typeof t.position[0]&&"number"===typeof t.position[1]}catch(n){return!1}}(e)&&(M[c]?(r=e,i=M[c],(r.position[0]!==i.position[0]||r.position[1]!==i.position[1])&&(M[c]=e,a=!0)):(M[c]=e,a=!0))})),Object.keys(M).forEach((function(e){n.userIdMap[e]||(delete M[e],a=!0)})),a?M:e}))};c.observe(M);var a=Object(u.subscribe)(n.userIdMap,M);return M(),function(){a(),c.unobserve(M)}}),[e,t]);var I=Object(a.useRef)();Object(a.useEffect)((function(){g&&(I.current?I.current=g:(I.current=g,setTimeout((function(){Object(o.a)(e,t).ydoc.getMap("gatherAvatarMap").set(t,I.current),I.current=void 0}),500)))}),[e,t,g]);var b=Object(a.useState)({}),x=Object(c.a)(b,2),y=x[0],p=x[1];Object(a.useEffect)((function(){var n=Object(o.a)(e,t).ydoc.getMap(D),M=function(){p((function(e){var t={};return n.forEach((function(n,c){var M,a;(function(e){try{var t=e;return!(!["background","meeting","chat","media","goboard"].includes(t.type)||"number"!==typeof t.position[0]||"number"!==typeof t.position[1]||"number"!==typeof t.size[0]||"number"!==typeof t.size[1]||"undefined"!==typeof t.zIndex&&"number"!==typeof t.zIndex||"undefined"!==typeof t.background&&"string"!==typeof t.background||"undefined"!==typeof t.border&&"string"!==typeof t.border||"undefined"!==typeof t.iframe&&"string"!==typeof t.iframe)}catch(n){return!1}})(n)&&(e[c]&&(a=n,(M=e[c]).type===a.type&&M.position[0]===a.position[0]&&M.position[1]===a.position[1]&&M.size[0]===a.size[0]&&M.size[1]===a.size[1]&&M.zIndex===a.zIndex&&M.background===a.background&&M.border===a.border&&M.iframe===a.iframe)?t[c]=e[c]:t[c]=n)})),t}))};n.observe(M),M();var a=setTimeout((function(){var e=Object(s.c)()||"",t=O[e];t&&(n.size>0||Object.entries(t).forEach((function(e){var t=Object(c.a)(e,2),M=t[0],a=t[1];n.set(M,a)})))}),1e4);return function(){clearTimeout(a),n.unobserve(M)}}),[e,t]);var l=Object(a.useCallback)((function(n,c){Object(o.a)(e,t).ydoc.getMap(D).set(n,c)}),[e,t]);return{avatarMap:i,myAvatar:g,setMyAvatar:d,regionMap:y,updateRegion:l}}(t,n),U=Q.avatarMap,S=Q.myAvatar,L=Q.setMyAvatar,Z=Q.regionMap,B=Object(a.useRef)(),R=Object(a.useCallback)((function(e){B.current=e}),[]),H=function(e,t){return Object.keys(t).sort((function(e,n){var c,M;return(null!==(c=t[n].zIndex)&&void 0!==c?c:0)-(null!==(M=t[e].zIndex)&&void 0!==M?M:0)})).find((function(n){var c=t[n],M=c.type,a=c.position,r=c.size;return"meeting"===M&&a[0]<=e.position[0]+36&&a[1]<=e.position[1]+36&&e.position[0]<=a[0]+r[0]&&e.position[1]<=a[1]+r[1]}))}(S,Z),W=F(S,Z,H),P=function(e,t,n,M,r,N,s,u){var z="".concat(u||"face","Video"),O="".concat(u||"face","Audio"),D=Object(a.useState)(null),g=Object(c.a)(D,2),b=g[0],x=g[1],y=Object(a.useState)({}),p=Object(c.a)(y,2),l=p[0],m=p[1],A=Object(a.useRef)(!0);Object(a.useEffect)((function(){return function(){A.current=!1}}),[]);var v=function(e){var t,n=Object(c.a)(e,2),M=n[0],a=n[1];if("ended"!==a.readyState&&!(null===(t=l[M])||void 0===t?void 0:t.getTracks().includes(a))){var r=function(e){A.current&&m((function(t){var n=t[M],c=Object(k.a)(t,[M].map(f.a));return n===e?c:t}))};m((function(e){var t=e[M],n=Y(a,t,r);return t===n?e:Object(j.a)(Object(j.a)({},e),{},Object(T.a)({},M,n))}))}},h=Object(i.useSnapshot)(Object(o.a)(e,t).trackMap);return Object.entries(h[z]||{}).forEach(v),Object.entries(h[O]||{}).forEach(v),Object(a.useEffect)((function(){var M=Object(o.a)(e,t),a=null;return n&&Object(I.a)(d.a.mark((function e(){var t,n,r,i,s,j,u,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(N);case 2:t=e.sent,n=t.stream,r=t.dispose,i=n.getVideoTracks(),s=Object(c.a)(i,1),j=s[0],M.addMediaType(z),M.addTrack(z,j),u=function(e){A.current&&x((function(t){return t===e?null:t}))},x((function(e){return Y(j,e,u)})),o=function(){M.removeMediaType(z),M.removeTrack(z),r(),j.dispatchEvent(new Event("ended"))},!1===a?o():a=o;case 12:case"end":return e.stop()}}),e)})))(),function(){a&&a(),a=!1}}),[e,t,n,N,z]),Object(a.useEffect)((function(){var n=Object(o.a)(e,t),a=null;return M&&Object(I.a)(d.a.mark((function e(){var t,M,r,i,N,j,u,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(s);case 2:t=e.sent,M=t.stream,r=t.dispose,i=M.getAudioTracks(),N=Object(c.a)(i,1),j=N[0],n.addMediaType(O),n.addTrack(O,j),u=function(e){A.current&&x((function(t){return t===e?null:t}))},x((function(e){return Y(j,e,u)})),o=function(){n.removeMediaType(O),n.removeTrack(O),r(),j.dispatchEvent(new Event("ended"))},!1===a?o():a=o;case 12:case"end":return e.stop()}}),e)})))(),function(){a&&a(),a=!1}}),[e,t,M,s,O]),Object(a.useEffect)((function(){if(b){b.getAudioTracks().forEach((function(e){e.enabled=r}));var e=function(e){var t=e.track;"audio"===t.kind&&(t.enabled=r)};return b.addEventListener("addtrack",e),function(){b.removeEventListener("addtrack",e)}}}),[b,r]),{faceStream:b,faceStreamMap:l}}(t,n,!!H,!!H,!!W,b,x,"gatherArea/meeting/".concat(H,"/")),V=P.faceStream,K=P.faceStreamMap,q=Object(a.useState)(null),_=Object(c.a)(q,2),$=_[0],ee=_[1],te=Date.now()-12e4;return Object(M.jsxs)("div",{className:"GatherArea-container",children:[Object(M.jsxs)("div",{className:"GatherArea-body",onMouseMove:function(e){B.current&&B.current(e)},onMouseUp:function(){R()},children:[Object.entries(Z).map((function(e){var a=Object(c.a)(e,2),r=a[0],i=a[1];return Object(M.jsx)(X,{roomId:t,userId:n,nickname:N,id:r,data:i,highlight:r===H&&(W?"micon-meeting":"active-meeting")||("meeting"===i.type?"meeting":void 0)},r)})),Object.entries(U).map((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1];if(a===n)return null;var i=h.find((function(e){return e.userId===a}));return i?Object(M.jsx)(J,{nickname:i.info.nickname,statusMesg:i.info.message,image:i.image,obsoleted:i.updated<te,position:r.position,registerOnMouseDrag:R,stream:K[a],liveMode:!!H,micOn:F(r,Z,H)},a):null})),Object(M.jsx)(J,{nickname:N,statusMesg:z,setStatusMesg:g,image:m,position:S.position,setPosition:function(e){return L((function(t){return Object(j.a)(Object(j.a)({},t),{},{position:e})}))},registerOnMouseDrag:R,stream:V||void 0,liveMode:!!H,muted:!0,micOn:W,toggleSuspended:y,suspended:p})]}),Object(M.jsx)("div",{className:"GatherArea-facelist",children:Object(M.jsx)(G,{roomId:t,userId:n,avatar:r,nickname:N,statusMesg:z,setStatusMesg:g,videoDeviceId:b,toggleSuspended:y,suspended:p})}),Object(M.jsxs)("div",{className:"GatherArea-toolbar",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{type:"button",onClick:function(){return ee("region-editor"===$?null:"region-editor")},children:"region-editor"===$?"Close Region Editor":"Open Region Editor"}),"region-editor"===$&&Object(M.jsx)("div",{className:"GatherArea-region-editor",children:Object(M.jsx)(v,{roomId:t,userId:n})})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{type:"button",onClick:function(){return ee("link-opener"===$?null:"link-opener")},children:"link-opener"===$?"Close Link Opener":"Open Link Opener"}),"link-opener"===$&&Object(M.jsx)("div",{className:"GatherArea-link-opener",children:Object(M.jsx)(C,{roomId:t})})]})]})]})})),K=r.a.memo((function(){var e=Object(i.useSnapshot)(N.b),t=e.roomId,n=e.userId,r=e.config,j=Object(a.useState)(""),u=Object(c.a)(j,2),o=u[0],T=u[1];return Object(a.useEffect)((function(){Object(s.f)(t)}),[t]),Object(M.jsx)("div",{className:"SingleRoom-container",children:Object(M.jsx)(V,{roomId:t,userId:n,avatar:r.avatar,nickname:r.nickname,statusMesg:o,setStatusMesg:T,suspended:!r.takePhoto,videoDeviceId:r.videoDeviceId,audioDeviceId:r.audioDeviceId,toggleSuspended:N.c})})}));t.default=K},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},325:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return N}));var c=n(2),M=n.n(c),a=n(4),r=n(3),i=function(){var e=Object(r.a)(M.a.mark((function e(t){var n,c,r,i,N,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?{video:{deviceId:t}}:{video:!0},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return c=e.sent,r=c.getVideoTracks(),i=Object(a.a)(r,1),N=i[0],s=function(){N.stop()},e.abrupt("return",{stream:c,dispose:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.a)(M.a.mark((function e(t){var n,c,r,i,N,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={video:{deviceId:t,frameRate:{max:5},width:{exact:72},height:{exact:72}}},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return c=e.sent,r=c.getVideoTracks(),i=Object(a.a)(r,1),N=i[0],s=function(){N.stop()},e.abrupt("return",{stream:c,dispose:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},326:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));n(531);var c=n(319),M=n(195),a=c.a,r=function(e){return!!Object(c.b)(e,"apple",M)}},521:function(e,t,n){},522:function(e,t,n){},526:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){},530:function(e,t,n){}}]);
//# sourceMappingURL=9.08e69c14.chunk.js.map