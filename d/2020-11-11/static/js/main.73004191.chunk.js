(this["webpackJsonpremote-faces-web"]=this["webpackJsonpremote-faces-web"]||[]).push([[1],{12:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r=32},17:function(e,n,t){"use strict";t.d(n,"b",(function(){return i}));var r=t(1),a=t.n(r),c=t(2),o=t(4),u=t(12);t.d(n,"a",(function(){return u.a}));var i=function(){var e=Object(c.a)(a.a.mark((function e(){var n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(o.e)()){e.next=6;break}return e.next=3,Promise.all([t.e(11),t.e(10)]).then(t.bind(null,57));case 3:n=e.sent.createRoom,e.next=15;break;case 6:if(!Object(o.f)()){e.next=12;break}return e.next=9,Promise.all([t.e(0),t.e(6)]).then(t.bind(null,56));case 9:n=e.sent.createRoom,e.next=15;break;case 12:return e.next=14,Promise.all([t.e(0),t.e(9),t.e(7)]).then(t.bind(null,58));case 14:n=e.sent.createRoom;case 15:return e.abrupt("return",n.apply(void 0,r));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},28:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t(0),a=t.n(r),c=(t(43),a.a.memo((function(){return a.a.createElement("div",{className:"Loading-container"},a.a.createElement("div",null,"Loading..."))})))},36:function(e,n,t){e.exports=t(55)},4:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return a})),t.d(n,"d",(function(){return c})),t.d(n,"g",(function(){return o})),t.d(n,"e",(function(){return u})),t.d(n,"c",(function(){return i})),t.d(n,"f",(function(){return s}));var r=function(e){try{var n=new URL(e).hash.slice(1),t=new URLSearchParams(n),r=window.location.hash.slice(1),a=new URLSearchParams(r);t.forEach((function(e,n){a.set(n,e)})),window.location.hash=a.toString()}catch(c){}},a=function(e){try{var n=new URL(e).hash.slice(1);return new URLSearchParams(n).get("roomId")}catch(t){return null}},c=function(){var e=window.location.hash.slice(1);return new URLSearchParams(e).get("roomId")},o=function(e){var n=window.location.hash.slice(1),t=new URLSearchParams(n);t.set("roomId",e),window.location.hash=t.toString()},u=function(){var e=window.location.hash.slice(1);return new URLSearchParams(e).has("peerjs")},i=function(){var e=window.location.hash.slice(1),n=new URLSearchParams(e).get("peerjs");try{var t=new URL(n||""),r="https:"===t.protocol,a=r?443:80;return{host:t.host.split(":")[0],port:t.port?Number(t.port):a,path:t.pathname,secure:r}}catch(c){}},s=function(){var e=window.location.hash.slice(1);return new URLSearchParams(e).has("pubsub")}},41:function(e,n,t){},42:function(e,n,t){},43:function(e,n,t){},45:function(e,n,t){},54:function(e,n,t){},55:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(34),o=t.n(c),u=(t(41),t(15)),i=t(19),s=t(20),l=t(22),f=(t(42),t(5)),p=a.a.memo((function(e){var n=e.err,t=Object(r.useState)(30),c=Object(f.a)(t,2),o=c[0],u=c[1];return Object(r.useEffect)((function(){o>0?setTimeout((function(){u(o-1)}),1e3):window.location.reload()})),a.a.createElement("div",null,a.a.createElement("h1",null,"Unrecoverable error occurred."),n&&a.a.createElement("h6",null,n.name,": ",n.message),a.a.createElement("p",null,"Will auto reload in ",o," sec."))})),h=t(28),d=t(1),m=t.n(d),w=t(2),b=(t(45),t(7)),y=t(17),v=t(4),g=a.a.lazy((function(){return t.e(14).then(t.bind(null,1249))})),E=a.a.lazy((function(){return Promise.all([t.e(3),t.e(5)]).then(t.bind(null,1251))})),x=Object(v.d)(),k=Object(b.j)(),j=a.a.memo((function(){var e=Object(r.useState)(x),n=Object(f.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(!1),u=Object(f.a)(o,2),i=u[0],s=u[1],l=Object(r.useState)(""),p=Object(f.a)(l,2),h=p[0],d=p[1],j=function(){var e=Object(w.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.t1=Object(b.j)(y.a/2),e.next=4,Object(b.g)();case 4:e.t2=e.sent,e.t3=e.t1+e.t2,(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?a.a.createElement(E,{roomId:t,userId:k}):a.a.createElement("div",{className:"SingleRoomEntrance-container"},a.a.createElement(g,null,a.a.createElement("div",{className:"SingleRoomEntrance-input"},!i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("button",{type:"button",onClick:j},"Create a new room")),a.a.createElement("div",{className:"SingleRoomEntrance-or"},"OR"),a.a.createElement("div",null,a.a.createElement("button",{type:"button",onClick:function(){return s(!0)}},"Enter an existing room link"))),i&&a.a.createElement("div",null,a.a.createElement("input",{value:h,onChange:function(e){return d(e.target.value)},placeholder:"Enter room link..."}),a.a.createElement("button",{type:"button",onClick:function(){Object(v.a)(h),c(Object(v.b)(h))},disabled:!Object(v.b)(h)},"Enter room"),a.a.createElement("button",{type:"button",onClick:function(){return s(!1)}},"Cancel")))))})),U=(t(54),a.a.memo((function(e){var n=e.size,t=e.fill,r=e.color;return a.a.createElement("a",{href:"https://github.com/dai-shi/remote-faces",className:"GitHubCorner-container","aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("svg",{width:n||80,height:n||80,viewBox:"0 0 250 250",style:{fill:t||"#151513",color:r||"#fff",position:"absolute",top:0,border:0,right:0},"aria-hidden":"true"},a.a.createElement("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),a.a.createElement("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"},className:"GitHubCorner-octo-arm"}),a.a.createElement("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"GitHubCorner-octo-body"})))}))),A=function(e){Object(s.a)(t,e);var n=Object(l.a)(t);function t(){var e;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=n.call.apply(n,[this].concat(a))).state={},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this.props.children,n=this.state.err;return n?a.a.createElement(p,{err:n}):e}}],[{key:"getDerivedStateFromError",value:function(e){return{err:e}}}]),t}(a.a.PureComponent),C=a.a.memo((function(){return a.a.createElement("div",{className:"App"},a.a.createElement(A,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(h.a,null)},a.a.createElement(j,null),a.a.createElement(U,{size:40,fill:"gray"}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,n,t){"use strict";t.d(n,"k",(function(){return s})),t.d(n,"j",(function(){return l})),t.d(n,"i",(function(){return f})),t.d(n,"g",(function(){return p})),t.d(n,"h",(function(){return h})),t.d(n,"e",(function(){return w})),t.d(n,"b",(function(){return b})),t.d(n,"f",(function(){return y})),t.d(n,"c",(function(){return E})),t.d(n,"d",(function(){return x})),t.d(n,"a",(function(){return k}));var r=t(1),a=t.n(r),c=t(2),o=(t(35),t(18)),u=t(6),i=t.n(u),s=function(){var e=Object(c.a)(a.a.mark((function e(n){var t,r,c,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new TextEncoder,r=t.encode(n),e.next=4,window.crypto.subtle.digest("SHA-256",r);case 4:return c=e.sent,o=Array.from(new Uint8Array(c)),u=o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,n=window.crypto.getRandomValues(new Uint8Array(e)),t=Array.from(n),r=t.map((function(e){return e.toString(16).padStart(2,"0")})).join("");return r},f=function(){return 1e3+window.crypto.getRandomValues(new Uint16Array(1))[0]%9e3},p=function(){var e=Object(c.a)(a.a.mark((function e(){var n,t,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"]);case 2:return n=e.sent,e.next=5,window.crypto.subtle.exportKey("raw",n);case 5:return t=e.sent,r=Array.from(new Uint8Array(t)),c=r.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(n){var t,r,c,o,u,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length>1&&void 0!==i[1]?i[1]:["encrypt","decrypt"],r=n.length/2,c=new Uint8Array(r),o=0;o<r;o+=1)c[o]=parseInt(n.slice(2*o,2*o+2),16);return e.next=6,window.crypto.subtle.importKey("raw",c,{name:"AES-GCM",length:128},!0,t);case 6:return u=e.sent,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(n,t){var r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.crypto.getRandomValues(new Uint8Array(12)),e.next=3,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,n);case 3:return c=e.sent,(o=new Uint8Array(r.length+c.byteLength)).set(r),o.set(new Uint8Array(c),r.length),e.abrupt("return",o.buffer);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(n,t,r,c){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.decrypt({name:"AES-GCM",iv:n.slice(t,t+12)},c,n.slice(t+12,t+r));case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(a.a.mark((function e(n,t){var r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new TextEncoder,c=r.encode(n),o=i.a.deflate(c),e.abrupt("return",d(o,t));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(n,t){var r,c,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n,0,n.byteLength,t);case 2:return r=e.sent,c=i.a.inflate(new Uint8Array(r)),o=new TextDecoder("utf-8"),u=o.decode(c),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function y(e,n){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(n,t){var r,c,o,u,s,l,f,p,h,m=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=m.length>2&&void 0!==m[2]?m[2]:6e4,c=new TextEncoder,o=c.encode(n),u=[],(s=new i.a.Deflate({chunkSize:r})).onData=function(e){u.push(e)},s.push(o,!0),l=u.length,f=window.crypto.getRandomValues(new Uint8Array(4)),p=0;case 10:if(!(p<l)){e.next=21;break}return(h=new Uint8Array(8+u[p].byteLength)).set(f),h.set(new Uint8Array(Uint16Array.of(p).buffer),4),h.set(new Uint8Array(Uint16Array.of(l).buffer),6),h.set(u[p],8),e.next=18,d(h,t);case 18:p+=1,e.next=10;break;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=[],E=function(){var e=Object(c.a)(a.a.mark((function e(n,t){var r,c,o,u,s,l,f,p,h,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n,0,n.byteLength,t);case 2:if(r=e.sent,c=new Uint32Array(r,0,4)[0],o=new Uint16Array(r,4,2)[0],u=new Uint16Array(r,6,2)[0],s=g.find((function(e){return e.id===c}))){e.next=13;break}s={id:c,len:u,chunks:[]},g.push(s),g.length>100&&g.shift(),e.next=15;break;case 13:if(s.len===u){e.next=15;break}throw new Error("chunk len mismatch");case 15:s.chunks[o]=r,l=0;case 17:if(!(l<u)){e.next=23;break}if(s.chunks[l]){e.next=20;break}return e.abrupt("return",null);case 20:l+=1,e.next=17;break;case 23:for(f=new i.a.Inflate,p=0;p<u;p+=1)f.push(new Uint8Array(s.chunks[p],8),p===u-1);return h=new TextDecoder("utf-8"),d=h.decode(f.result),e.abrupt("return",d);case 28:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),x=function(e,n){var t=2*(e.length+1)+e.reduce((function(e,n){return e+n.byteLength}),0),r=new Uint8Array(t),a=0;return e.forEach((function(e){if(0===e.byteLength)throw new Error("buffer is empty");r.set(new Uint8Array(Uint16Array.of(e.byteLength).buffer),a),a+=2})),r.set(new Uint8Array(Uint16Array.of(0).buffer),a),a+=2,e.forEach((function(e){r.set(new Uint8Array(e),a),a+=e.byteLength})),d(r,n)},k=function(){var e=Object(c.a)(a.a.mark((function e(n,t,r,c){var o,u,i,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n,t,r,c);case 2:o=e.sent,u=[],i=0;case 5:if(!(i<o.byteLength)){e.next=13;break}if(s=new Uint16Array(o,i,2)[0],i+=2,0!==s){e.next=10;break}return e.abrupt("break",13);case 10:u.push(s),e.next=5;break;case 13:return l=[],u.forEach((function(e){l.push(o.slice(i,i+e)),i+=e})),e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}()}},[[36,2,4]]]);
//# sourceMappingURL=main.73004191.chunk.js.map